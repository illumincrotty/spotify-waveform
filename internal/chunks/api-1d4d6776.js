var f=Object.defineProperty;var n=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var i=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t)=>{for(var r in t||(t={}))k.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))$.call(t,r)&&i(e,r,t[r]);return e};const d=e=>e?`?${Object.entries(e).map(t=>t[0]&&t[1]?`${t[0]}=${Array.isArray(t[1])?t[1].join(","):t[1]}`:"").join("&")}`:"",h="https://api.spotify.com/v1",p=e=>{const t=async s=>{var c;const o=await fetch(`${h}${s.route}${d(s.options)}`,{method:`${(c=s==null?void 0:s.method)!=null?c:"GET"}`,headers:{Authorization:`Bearer ${e.access_token}`}});if(o.ok)return o.json();o.status===401},r={me:async()=>t({route:"/me"}),topTracks:async s=>t({route:"/me/top/tracks",options:s}),topArtists:async s=>t({route:"/me/top/artists",options:s}),user:async s=>t({route:`/users/${s}`}),followedArtists:async s=>t({route:"/me/following",options:a({type:"artist"},s)}),followedArtistsCheck:async s=>t({route:"/me/following/contains",options:s}),followsPlaylistCheck:async(s,o)=>t({route:`/playlists/${s}/followers/contains`,options:o})},u={track:async s=>t({route:`/tracks/${s}`}),tracks:async s=>t({route:"/tracks",options:s}),savedTracks:async s=>t({route:"/me/tracks",options:s}),audioFeatures:async s=>t({route:`/audio-features/${s}`}),audioFeaturesMultiTrack:async s=>t({route:"/audio-features",options:{ids:s}}),audioAnalysis:async s=>t({route:`/audio-analysis/${s}`})},y={artist:async s=>t({route:`/artists/${s}`})},l={search:async s=>t({route:"/search",options:s})};return a(a(a(a({},r),u),y),l)};export{p as c};
