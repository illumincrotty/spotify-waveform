var l=Object.defineProperty;var n=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var i=(e,s,r)=>s in e?l(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,o=(e,s)=>{for(var r in s||(s={}))f.call(s,r)&&i(e,r,s[r]);if(n)for(var r of n(s))k.call(s,r)&&i(e,r,s[r]);return e};const $=e=>e?`?${Object.entries(e).map(s=>s[0]&&s[1]?`${s[0]}=${Array.isArray(s[1])?s[1].join(","):s[1]}`:"").join("&")}`:"",h="https://api.spotify.com/v1",d=e=>{const s=async t=>{var c;const a=await fetch(`${h}${t.route}${$(t.options)}`,{method:`${(c=t==null?void 0:t.method)!=null?c:"GET"}`,headers:{Authorization:`Bearer ${e.access_token}`}});if(a.ok)return a.json();a.status===401},r={me:async()=>s({route:"/me"}),topTracks:async t=>s({route:"/me/top/tracks",options:t}),topArtists:async t=>s({route:"/me/top/artists",options:t}),user:async t=>s({route:`/users/${t}`}),followedArtists:async t=>s({route:"/me/following",options:o({type:"artist"},t)}),followedArtistsCheck:async t=>s({route:"/me/following/contains",options:t}),followsPlaylistCheck:async(t,a)=>s({route:`/playlists/${t}/followers/contains`,options:a})},y={track:async t=>s({route:`/tracks/${t}`}),tracks:async t=>s({route:"/tracks",options:t}),savedTracks:async t=>s({route:"/me/tracks",options:t}),audioFeatures:async t=>s({route:`/audio-features/${t}`}),audioAnalysis:async t=>s({route:`/audio-analysis/${t}`})},u={search:async t=>s({route:"/search",options:t})};return o(o(o({},r),y),u)};export{d as c};
