import{S as q,i as F,s as R,e as $,t as C,j as P,L as K,c as E,a as B,g as O,d as p,l as L,M as W,b as m,Y as x,O as ee,f as S,E as v,a8 as te,$ as G,a9 as ge,h as J,T as le,a0 as be,aa as de,r as ke,P as H,Q as ae,v as T,w as A,x as N,p as w,n as y,A as I,X as U,R as ve,U as D,V as M,k as se,Z as we,m as Q,o as X,F as re,u as ie,_ as j}from"../../chunks/vendor-bb5dd8bc.js";import{P as Se}from"../../chunks/page-ff684a85.js";import{c as ne}from"../../chunks/api-1ccf9f0f.js";import{t as Y}from"../../chunks/storeSession-04fb7cc2.js";import{L as fe,B as Z,T as $e,A as Ee}from"../../chunks/trackBlock-98f64f44.js";import"../../chunks/buttonBase-01b71081.js";import"../../chunks/paths-28a87002.js";import"../../chunks/singletons-a42a5e91.js";function ye(i){let e,l,t,a,r,o,c,n,s,u,b;return{c(){e=$("form"),l=$("label"),t=C(i[2]),r=P(),o=K("svg"),c=K("path"),n=P(),s=$("input"),this.h()},l(_){e=E(_,"FORM",{role:!0,class:!0,"aria-label":!0});var h=B(e);l=E(h,"LABEL",{id:!0,for:!0,class:!0});var d=B(l);t=O(d,i[2]),d.forEach(p),r=L(h),o=W(h,"svg",{focusable:!0,xmlns:!0,viewBox:!0,"aria-hidden":!0,class:!0});var f=B(o);c=W(f,"path",{d:!0}),B(c).forEach(p),f.forEach(p),n=L(h),s=E(h,"INPUT",{name:!0,type:!0,placeholder:!0,autocomplete:!0,spellcheck:!0,id:!0,style:!0,class:!0}),h.forEach(p),this.h()},h(){m(l,"id",a=""+(i[5]+"-label")),m(l,"for",i[5]),m(l,"class","svelte-14wm8wa"),m(c,"d","M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5	C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"),m(o,"focusable","false"),m(o,"xmlns","http://www.w3.org/2000/svg"),m(o,"viewBox","0 0 16 16"),m(o,"aria-hidden","true"),m(o,"class","svelte-14wm8wa"),m(s,"name","search"),m(s,"type","search"),m(s,"placeholder",i[3]),m(s,"autocomplete","off"),m(s,"spellcheck","false"),m(s,"id",i[5]),x(s,"font-size","var(--font-"+i[4]+")"),m(s,"class","svelte-14wm8wa"),m(e,"role","search"),m(e,"class","center-i svelte-14wm8wa"),m(e,"aria-label",i[2]),ee(e,"content",i[0].length>0)},m(_,h){S(_,e,h),v(e,l),v(l,t),v(e,r),v(e,o),v(o,c),v(e,n),v(e,s),i[13](s),te(s,i[0]),u||(b=[G(s,"input",i[14]),G(s,"input",i[8]),G(s,"change",i[9]),G(s,"focus",i[10]),G(s,"blur",i[11]),G(s,"keydown",i[12]),G(e,"submit",ge(i[7]))],u=!0)},p(_,[h]){h&4&&J(t,_[2]),h&32&&a!==(a=""+(_[5]+"-label"))&&m(l,"id",a),h&32&&m(l,"for",_[5]),h&8&&m(s,"placeholder",_[3]),h&32&&m(s,"id",_[5]),h&16&&x(s,"font-size","var(--font-"+_[4]+")"),h&1&&te(s,_[0]),h&4&&m(e,"aria-label",_[2]),h&1&&ee(e,"content",_[0].length>0)},i:le,o:le,d(_){_&&p(e),i[13](null),u=!1,be(b)}}}function Be(i,e,l){let{value:t=""}=e,{debounce:a=500}=e,{label:r="search"}=e,{placeholder:o="Search... "}=e,{fontSize:c="xl"}=e,{id:n="search"+Math.random().toString(36)}=e,{ref:s=null}=e;const u=de();let b=t,_=0;const h=g=>{window.clearTimeout(_),_=window.setTimeout(()=>{g()},a)};ke(()=>{t.length>0&&t!==b&&(a>0?h(()=>u("type",t)):u("type",t)),t.length===0&&b.length>0&&u("clear"),b=t});function d(g){H.call(this,i,g)}function f(g){H.call(this,i,g)}function k(g){H.call(this,i,g)}function z(g){H.call(this,i,g)}function V(g){H.call(this,i,g)}function he(g){H.call(this,i,g)}function _e(g){ae[g?"unshift":"push"](()=>{s=g,l(1,s)})}function pe(){t=this.value,l(0,t)}return i.$$set=g=>{"value"in g&&l(0,t=g.value),"debounce"in g&&l(6,a=g.debounce),"label"in g&&l(2,r=g.label),"placeholder"in g&&l(3,o=g.placeholder),"fontSize"in g&&l(4,c=g.fontSize),"id"in g&&l(5,n=g.id),"ref"in g&&l(1,s=g.ref)},[t,s,r,o,c,n,a,d,f,k,z,V,he,_e,pe]}class Pe extends q{constructor(e){super();F(this,e,Be,ye,R,{value:0,debounce:6,label:2,placeholder:3,fontSize:4,id:5,ref:1})}}function Le(i){let e,l,t;return{c(){e=$("img"),this.h()},l(a){e=E(a,"IMG",{src:!0,alt:!0}),this.h()},h(){U(e.src,l="https://generative-placeholders.glitch.me/image?width=300&height=300&style=123")||m(e,"src",l),m(e,"alt",t="Placeholder of "+i[0].name)},m(a,r){S(a,e,r)},p(a,r){r&1&&t!==(t="Placeholder of "+a[0].name)&&m(e,"alt",t)},d(a){a&&p(e)}}}function Te(i){let e,l,t;return{c(){e=$("img"),this.h()},l(a){e=E(a,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){U(e.src,l=i[0].images[i[0].images.length-1].url)||m(e,"src",l),m(e,"alt",t="Picture of "+i[0].name),m(e,"width","64"),m(e,"height","64")},m(a,r){S(a,e,r)},p(a,r){r&1&&!U(e.src,l=a[0].images[a[0].images.length-1].url)&&m(e,"src",l),r&1&&t!==(t="Picture of "+a[0].name)&&m(e,"alt",t)},d(a){a&&p(e)}}}function Ae(i){let e,l,t=i[0].name+"",a,r;function o(s,u){return s[0].images.length>0?Te:Le}let c=o(i),n=c(i);return{c(){n.c(),e=P(),l=$("label"),a=C(t),this.h()},l(s){n.l(s),e=L(s),l=E(s,"LABEL",{for:!0});var u=B(l);a=O(u,t),u.forEach(p),this.h()},h(){m(l,"for",r=i[0].uri)},m(s,u){n.m(s,u),S(s,e,u),S(s,l,u),v(l,a)},p(s,u){c===(c=o(s))&&n?n.p(s,u):(n.d(1),n=c(s),n&&(n.c(),n.m(e.parentNode,e))),u&1&&t!==(t=s[0].name+"")&&J(a,t),u&1&&r!==(r=s[0].uri)&&m(l,"for",r)},d(s){n.d(s),s&&p(e),s&&p(l)}}}function Ne(i){let e,l;return e=new fe({props:{href:i[0].external_urls.spotify,id:i[0].uri,$$slots:{default:[Ae]},$$scope:{ctx:i}}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){N(e,t,a),l=!0},p(t,[a]){const r={};a&1&&(r.href=t[0].external_urls.spotify),a&1&&(r.id=t[0].uri),a&3&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Ie(i,e,l){let{data:t}=e;return i.$$set=a=>{"data"in a&&l(0,t=a.data)},[t]}class Me extends q{constructor(e){super();F(this,e,Ie,Ne,R,{data:0})}}function je(i){let e,l,t;return{c(){e=$("img"),this.h()},l(a){e=E(a,"IMG",{src:!0,alt:!0}),this.h()},h(){U(e.src,l="https://generative-placeholders.glitch.me/image?width=300&height=300&style=123")||m(e,"src",l),m(e,"alt",t="Placeholder of "+i[0].name)},m(a,r){S(a,e,r)},p(a,r){r&1&&t!==(t="Placeholder of "+a[0].name)&&m(e,"alt",t)},d(a){a&&p(e)}}}function ze(i){let e,l,t;return{c(){e=$("img"),this.h()},l(a){e=E(a,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){U(e.src,l=i[0].images[i[0].images.length-1].url)||m(e,"src",l),m(e,"alt",t="Picture of "+i[0].name),m(e,"width","64"),m(e,"height","64")},m(a,r){S(a,e,r)},p(a,r){r&1&&!U(e.src,l=a[0].images[a[0].images.length-1].url)&&m(e,"src",l),r&1&&t!==(t="Picture of "+a[0].name)&&m(e,"alt",t)},d(a){a&&p(e)}}}function Ce(i){let e,l,t=i[0].name+"",a,r;function o(s,u){return s[0].images.length>0?ze:je}let c=o(i),n=c(i);return{c(){n.c(),e=P(),l=$("label"),a=C(t),this.h()},l(s){n.l(s),e=L(s),l=E(s,"LABEL",{for:!0});var u=B(l);a=O(u,t),u.forEach(p),this.h()},h(){m(l,"for",r=i[0].uri)},m(s,u){n.m(s,u),S(s,e,u),S(s,l,u),v(l,a)},p(s,u){c===(c=o(s))&&n?n.p(s,u):(n.d(1),n=c(s),n&&(n.c(),n.m(e.parentNode,e))),u&1&&t!==(t=s[0].name+"")&&J(a,t),u&1&&r!==(r=s[0].uri)&&m(l,"for",r)},d(s){n.d(s),s&&p(e),s&&p(l)}}}function Oe(i){let e,l;return e=new fe({props:{href:i[0].external_urls.spotify,id:i[0].uri,$$slots:{default:[Ce]},$$scope:{ctx:i}}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){N(e,t,a),l=!0},p(t,[a]){const r={};a&1&&(r.href=t[0].external_urls.spotify),a&1&&(r.id=t[0].uri),a&3&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Ge(i,e,l){let{data:t}=e;return i.$$set=a=>{"data"in a&&l(0,t=a.data)},[t]}class He extends q{constructor(e){super();F(this,e,Ge,Oe,R,{data:0})}}function oe(i){let e,l,t,a,r,o,c;return r=new Z({props:{component:$e,items:i[1],limit:5,limitButton:!0}}),{c(){e=$("section"),l=$("h2"),t=C("Tracks"),a=P(),T(r.$$.fragment)},l(n){e=E(n,"SECTION",{});var s=B(e);l=E(s,"H2",{});var u=B(l);t=O(u,"Tracks"),u.forEach(p),a=L(s),A(r.$$.fragment,s),s.forEach(p)},m(n,s){S(n,e,s),v(e,l),v(l,t),v(e,a),N(r,e,null),c=!0},p(n,s){const u={};s&2&&(u.items=n[1]),r.$set(u)},i(n){c||(w(r.$$.fragment,n),D(()=>{o||(o=M(e,j,{},!0)),o.run(1)}),c=!0)},o(n){y(r.$$.fragment,n),o||(o=M(e,j,{},!1)),o.run(0),c=!1},d(n){n&&p(e),I(r),n&&o&&o.end()}}}function ue(i){let e,l,t,a,r,o,c;return r=new Z({props:{component:Ee,items:i[2],limit:5,limitButton:!0}}),{c(){e=$("section"),l=$("h2"),t=C("Artists"),a=P(),T(r.$$.fragment)},l(n){e=E(n,"SECTION",{});var s=B(e);l=E(s,"H2",{});var u=B(l);t=O(u,"Artists"),u.forEach(p),a=L(s),A(r.$$.fragment,s),s.forEach(p)},m(n,s){S(n,e,s),v(e,l),v(l,t),v(e,a),N(r,e,null),c=!0},p(n,s){const u={};s&4&&(u.items=n[2]),r.$set(u)},i(n){c||(w(r.$$.fragment,n),D(()=>{o||(o=M(e,j,{},!0)),o.run(1)}),c=!0)},o(n){y(r.$$.fragment,n),o||(o=M(e,j,{},!1)),o.run(0),c=!1},d(n){n&&p(e),I(r),n&&o&&o.end()}}}function ce(i){let e,l,t,a,r,o,c;return r=new Z({props:{component:Me,items:i[3],limit:5,limitButton:!0}}),{c(){e=$("section"),l=$("h2"),t=C("Albums"),a=P(),T(r.$$.fragment)},l(n){e=E(n,"SECTION",{});var s=B(e);l=E(s,"H2",{});var u=B(l);t=O(u,"Albums"),u.forEach(p),a=L(s),A(r.$$.fragment,s),s.forEach(p)},m(n,s){S(n,e,s),v(e,l),v(l,t),v(e,a),N(r,e,null),c=!0},p(n,s){const u={};s&8&&(u.items=n[3]),r.$set(u)},i(n){c||(w(r.$$.fragment,n),D(()=>{o||(o=M(e,j,{},!0)),o.run(1)}),c=!0)},o(n){y(r.$$.fragment,n),o||(o=M(e,j,{},!1)),o.run(0),c=!1},d(n){n&&p(e),I(r),n&&o&&o.end()}}}function me(i){let e,l,t,a,r,o,c;return r=new Z({props:{component:He,items:i[4],limit:5,limitButton:!0}}),{c(){e=$("section"),l=$("h2"),t=C("Playlists"),a=P(),T(r.$$.fragment)},l(n){e=E(n,"SECTION",{});var s=B(e);l=E(s,"H2",{});var u=B(l);t=O(u,"Playlists"),u.forEach(p),a=L(s),A(r.$$.fragment,s),s.forEach(p)},m(n,s){S(n,e,s),v(e,l),v(l,t),v(e,a),N(r,e,null),c=!0},p(n,s){const u={};s&16&&(u.items=n[4]),r.$set(u)},i(n){c||(w(r.$$.fragment,n),D(()=>{o||(o=M(e,j,{},!0)),o.run(1)}),c=!0)},o(n){y(r.$$.fragment,n),o||(o=M(e,j,{},!1)),o.run(0),c=!1},d(n){n&&p(e),I(r),n&&o&&o.end()}}}function Ue(i){let e,l,t,a,r,o,c,n;function s(f){i[8](f)}let u={slot:"header",id:"spotify-search",label:"Spotify Search",placeholder:"Search Spotify",debounce:qe};i[0]!==void 0&&(u.value=i[0]),e=new Pe({props:u}),ae.push(()=>ve(e,"value",s)),e.$on("type",i[5]),e.$on("submit",i[5]);let b=i[1].length>0&&oe(i),_=i[2].length>0&&ue(i),h=i[3].length>0&&ce(i),d=i[4].length>0&&me(i);return{c(){T(e.$$.fragment),t=P(),b&&b.c(),a=P(),_&&_.c(),r=P(),h&&h.c(),o=P(),d&&d.c(),c=se()},l(f){A(e.$$.fragment,f),t=L(f),b&&b.l(f),a=L(f),_&&_.l(f),r=L(f),h&&h.l(f),o=L(f),d&&d.l(f),c=se()},m(f,k){N(e,f,k),S(f,t,k),b&&b.m(f,k),S(f,a,k),_&&_.m(f,k),S(f,r,k),h&&h.m(f,k),S(f,o,k),d&&d.m(f,k),S(f,c,k),n=!0},p(f,[k]){const z={};!l&&k&1&&(l=!0,z.value=f[0],we(()=>l=!1)),e.$set(z),f[1].length>0?b?(b.p(f,k),k&2&&w(b,1)):(b=oe(f),b.c(),w(b,1),b.m(a.parentNode,a)):b&&(Q(),y(b,1,1,()=>{b=null}),X()),f[2].length>0?_?(_.p(f,k),k&4&&w(_,1)):(_=ue(f),_.c(),w(_,1),_.m(r.parentNode,r)):_&&(Q(),y(_,1,1,()=>{_=null}),X()),f[3].length>0?h?(h.p(f,k),k&8&&w(h,1)):(h=ce(f),h.c(),w(h,1),h.m(o.parentNode,o)):h&&(Q(),y(h,1,1,()=>{h=null}),X()),f[4].length>0?d?(d.p(f,k),k&16&&w(d,1)):(d=me(f),d.c(),w(d,1),d.m(c.parentNode,c)):d&&(Q(),y(d,1,1,()=>{d=null}),X())},i(f){n||(w(e.$$.fragment,f),w(b),w(_),w(h),w(d),n=!0)},o(f){y(e.$$.fragment,f),y(b),y(_),y(h),y(d),n=!1},d(f){I(e,f),f&&p(t),b&&b.d(f),f&&p(a),_&&_.d(f),f&&p(r),h&&h.d(f),f&&p(o),d&&d.d(f),f&&p(c)}}}let qe=500;function Fe(i,e,l){let t;re(i,Y,f=>l(11,t=f));let{spotify:a}=e,{categories:r=["track","artist","album","playlist"]}=e,o="",c="",n,s=[],u=[],b=[],_=[];ie(()=>{!a&&t!=="empty"&&Y.valid()&&l(6,a=ne(t));const f=new URLSearchParams(window.location.search);f.has("categories")&&(console.log(f.get("categories")),l(7,r=f.get("categories").split(",")))});const h=async()=>{var f,k,z,V;o!==""&&o!==c&&(c=o,n=await a.search({q:o,type:r}),l(1,s=(f=n.tracks.items)!=null?f:[]),l(2,u=(k=n.artists.items)!=null?k:[]),l(3,b=(z=n.albums.items)!=null?z:[]),l(4,_=(V=n.playlists.items)!=null?V:[]))};function d(f){o=f,l(0,o)}return i.$$set=f=>{"spotify"in f&&l(6,a=f.spotify),"categories"in f&&l(7,r=f.categories)},[o,s,u,b,_,h,a,r,d]}class Re extends q{constructor(e){super();F(this,e,Fe,Ue,R,{spotify:6,categories:7})}}function Ve(i){let e,l;return e=new Re({props:{spotify:i[0]}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){N(e,t,a),l=!0},p(t,a){const r={};a&1&&(r.spotify=t[0]),e.$set(r)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function De(i){let e,l;return e=new Se({props:{title:"Search",$$slots:{default:[Ve]},$$scope:{ctx:i}}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,a){N(e,t,a),l=!0},p(t,[a]){const r={};a&5&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){I(e,t)}}}function Qe(i,e,l){let t;re(i,Y,r=>l(1,t=r));let a;return ie(()=>{t!=="empty"&&Y.valid()&&l(0,a=ne(t))}),[a]}class tt extends q{constructor(e){super();F(this,e,Qe,De,R,{})}}export{tt as default};
