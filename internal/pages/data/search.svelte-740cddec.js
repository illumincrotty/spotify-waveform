import{S as G,i as H,s as q,e as v,t as L,j as S,L as R,c as w,a as y,g as M,d as _,l as B,M as V,b as c,O as D,Q as J,f as b,F as $,a4 as Q,R as z,a5 as he,h as O,V as X,T as pe,a6 as be,u as K,r as ge,U as N,X as W,v as E,w as P,x as j,p as d,n as k,A,N as Y,J as de,k as Z,m as C,o as F,a7 as ke,a8 as ve}from"../../chunks/vendor-1c0fa305.js";import{P as we}from"../../chunks/page-24b96d7d.js";import{L as x,B as U,T as $e,A as Se}from"../../chunks/trackBlock-a2750566.js";import{c as Be}from"../../chunks/api-1ccf9f0f.js";import{t as ee}from"../../chunks/storeSession-aba39d8a.js";import"../../chunks/buttonBase-e15f0122.js";import"../../chunks/paths-28a87002.js";import"../../chunks/singletons-12a22614.js";function ye(r){let e,a,l,s,f,t,n,o,i,u,h;return{c(){e=v("form"),a=v("label"),l=L(r[2]),f=S(),t=R("svg"),n=R("path"),o=S(),i=v("input"),this.h()},l(g){e=w(g,"FORM",{role:!0,class:!0,"aria-label":!0});var p=y(e);a=w(p,"LABEL",{id:!0,for:!0,class:!0});var T=y(a);l=M(T,r[2]),T.forEach(_),f=B(p),t=V(p,"svg",{focusable:!0,xmlns:!0,viewBox:!0,"aria-hidden":!0,class:!0});var I=y(t);n=V(I,"path",{d:!0}),y(n).forEach(_),I.forEach(_),o=B(p),i=w(p,"INPUT",{name:!0,type:!0,placeholder:!0,autocomplete:!0,spellcheck:!0,id:!0,style:!0,class:!0}),p.forEach(_),this.h()},h(){c(a,"id",s=""+(r[5]+"-label")),c(a,"for",r[5]),c(a,"class","svelte-1wd9r4d"),c(n,"d","M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5	C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"),c(t,"focusable","false"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"viewBox","0 0 16 16"),c(t,"aria-hidden","true"),c(t,"class","svelte-1wd9r4d"),c(i,"name","search"),c(i,"type","search"),c(i,"placeholder",r[3]),c(i,"autocomplete","off"),c(i,"spellcheck","false"),c(i,"id",r[5]),D(i,"font-size","var(--font-"+r[4]+")"),c(i,"class","svelte-1wd9r4d"),c(e,"role","search"),c(e,"class","center-i svelte-1wd9r4d"),c(e,"aria-label",r[2]),J(e,"content",r[0].length>0)},m(g,p){b(g,e,p),$(e,a),$(a,l),$(e,f),$(e,t),$(t,n),$(e,o),$(e,i),r[13](i),Q(i,r[0]),u||(h=[z(i,"input",r[14]),z(i,"input",r[8]),z(i,"change",r[9]),z(i,"focus",r[10]),z(i,"blur",r[11]),z(i,"keydown",r[12]),z(e,"submit",he(r[7]))],u=!0)},p(g,[p]){p&4&&O(l,g[2]),p&32&&s!==(s=""+(g[5]+"-label"))&&c(a,"id",s),p&32&&c(a,"for",g[5]),p&8&&c(i,"placeholder",g[3]),p&32&&c(i,"id",g[5]),p&16&&D(i,"font-size","var(--font-"+g[4]+")"),p&1&&Q(i,g[0]),p&4&&c(e,"aria-label",g[2]),p&1&&J(e,"content",g[0].length>0)},i:X,o:X,d(g){g&&_(e),r[13](null),u=!1,pe(h)}}}function Ee(r,e,a){let{value:l=""}=e,{debounce:s=0}=e,{label:f="search"}=e,{placeholder:t="Search... "}=e,{fontSize:n="xl"}=e,{id:o="search"+Math.random().toString(36)}=e,{ref:i=null}=e;const u=be();let h=l,g,p=!1;function T(m){p||(p=!0,g=setTimeout(()=>{m(),p=!1},s))}K(()=>()=>clearTimeout(g)),ge(()=>{l.length>0&&l!==h&&(s>0?T(()=>u("type",l)):u("type",l)),l.length===0&&h.length>0&&u("clear"),h=l});function I(m){N.call(this,r,m)}function ne(m){N.call(this,r,m)}function fe(m){N.call(this,r,m)}function ue(m){N.call(this,r,m)}function oe(m){N.call(this,r,m)}function ce(m){N.call(this,r,m)}function me(m){W[m?"unshift":"push"](()=>{i=m,a(1,i)})}function _e(){l=this.value,a(0,l)}return r.$$set=m=>{"value"in m&&a(0,l=m.value),"debounce"in m&&a(6,s=m.debounce),"label"in m&&a(2,f=m.label),"placeholder"in m&&a(3,t=m.placeholder),"fontSize"in m&&a(4,n=m.fontSize),"id"in m&&a(5,o=m.id),"ref"in m&&a(1,i=m.ref)},[l,i,f,t,n,o,s,I,ne,fe,ue,oe,ce,me,_e]}class Pe extends G{constructor(e){super();H(this,e,Ee,ye,q,{value:0,debounce:6,label:2,placeholder:3,fontSize:4,id:5,ref:1})}}function je(r){let e,a,l;return{c(){e=v("img"),this.h()},l(s){e=w(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Y(e.src,a="https://generative-placeholders.glitch.me/image?width=300&height=300&style=123")||c(e,"src",a),c(e,"alt",l="Placeholder of "+r[0].name),c(e,"class","svelte-170wwgr")},m(s,f){b(s,e,f)},p(s,f){f&1&&l!==(l="Placeholder of "+s[0].name)&&c(e,"alt",l)},d(s){s&&_(e)}}}function Ae(r){let e,a,l;return{c(){e=v("img"),this.h()},l(s){e=w(s,"IMG",{srcset:!0,alt:!0,class:!0}),this.h()},h(){c(e,"srcset",a=r[0].images.map(te).join(", ")),c(e,"alt",l="Picture of "+r[0].name),c(e,"class","svelte-170wwgr")},m(s,f){b(s,e,f)},p(s,f){f&1&&a!==(a=s[0].images.map(te).join(", "))&&c(e,"srcset",a),f&1&&l!==(l="Picture of "+s[0].name)&&c(e,"alt",l)},d(s){s&&_(e)}}}function Le(r){let e,a,l=r[0].name+"",s,f;function t(i,u){return i[0].images.length>0?Ae:je}let n=t(r),o=n(r);return{c(){o.c(),e=S(),a=v("label"),s=L(l),this.h()},l(i){o.l(i),e=B(i),a=w(i,"LABEL",{for:!0,class:!0});var u=y(a);s=M(u,l),u.forEach(_),this.h()},h(){c(a,"for",f=r[0].uri),c(a,"class","svelte-170wwgr")},m(i,u){o.m(i,u),b(i,e,u),b(i,a,u),$(a,s)},p(i,u){n===(n=t(i))&&o?o.p(i,u):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e))),u&1&&l!==(l=i[0].name+"")&&O(s,l),u&1&&f!==(f=i[0].uri)&&c(a,"for",f)},d(i){o.d(i),i&&_(e),i&&_(a)}}}function Me(r){let e,a;return e=new x({props:{href:r[0].external_urls.spotify,id:r[0].uri,$$slots:{default:[Le]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,s){j(e,l,s),a=!0},p(l,[s]){const f={};s&1&&(f.href=l[0].external_urls.spotify),s&1&&(f.id=l[0].uri),s&3&&(f.$$scope={dirty:s,ctx:l}),e.$set(f)},i(l){a||(d(e.$$.fragment,l),a=!0)},o(l){k(e.$$.fragment,l),a=!1},d(l){A(e,l)}}}const te=r=>r.url;function ze(r,e,a){let{data:l}=e;return r.$$set=s=>{"data"in s&&a(0,l=s.data)},[l]}class Ne extends G{constructor(e){super();H(this,e,ze,Me,q,{data:0})}}function Te(r){let e,a,l;return{c(){e=v("img"),this.h()},l(s){e=w(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Y(e.src,a="https://generative-placeholders.glitch.me/image?width=300&height=300&style=123")||c(e,"src",a),c(e,"alt",l="Placeholder of "+r[0].name),c(e,"class","svelte-170wwgr")},m(s,f){b(s,e,f)},p(s,f){f&1&&l!==(l="Placeholder of "+s[0].name)&&c(e,"alt",l)},d(s){s&&_(e)}}}function Ie(r){let e,a,l;return{c(){e=v("img"),this.h()},l(s){e=w(s,"IMG",{srcset:!0,alt:!0,class:!0}),this.h()},h(){c(e,"srcset",a=r[0].images.map(le).join(", ")),c(e,"alt",l="Picture of "+r[0].name),c(e,"class","svelte-170wwgr")},m(s,f){b(s,e,f)},p(s,f){f&1&&a!==(a=s[0].images.map(le).join(", "))&&c(e,"srcset",a),f&1&&l!==(l="Picture of "+s[0].name)&&c(e,"alt",l)},d(s){s&&_(e)}}}function Ge(r){let e,a,l=r[0].name+"",s,f;function t(i,u){return i[0].images.length>0?Ie:Te}let n=t(r),o=n(r);return{c(){o.c(),e=S(),a=v("label"),s=L(l),this.h()},l(i){o.l(i),e=B(i),a=w(i,"LABEL",{for:!0,class:!0});var u=y(a);s=M(u,l),u.forEach(_),this.h()},h(){c(a,"for",f=r[0].uri),c(a,"class","svelte-170wwgr")},m(i,u){o.m(i,u),b(i,e,u),b(i,a,u),$(a,s)},p(i,u){n===(n=t(i))&&o?o.p(i,u):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e))),u&1&&l!==(l=i[0].name+"")&&O(s,l),u&1&&f!==(f=i[0].uri)&&c(a,"for",f)},d(i){o.d(i),i&&_(e),i&&_(a)}}}function He(r){let e,a;return e=new x({props:{href:r[0].external_urls.spotify,id:r[0].uri,$$slots:{default:[Ge]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,s){j(e,l,s),a=!0},p(l,[s]){const f={};s&1&&(f.href=l[0].external_urls.spotify),s&1&&(f.id=l[0].uri),s&3&&(f.$$scope={dirty:s,ctx:l}),e.$set(f)},i(l){a||(d(e.$$.fragment,l),a=!0)},o(l){k(e.$$.fragment,l),a=!1},d(l){A(e,l)}}}const le=r=>r.url;function qe(r,e,a){let{data:l}=e;return r.$$set=s=>{"data"in s&&a(0,l=s.data)},[l]}class Ce extends G{constructor(e){super();H(this,e,qe,He,q,{data:0})}}function se(r){let e,a,l,s,f;return s=new U({props:{component:$e,items:r[1],limit:5,limitButton:!0}}),{c(){e=v("h2"),a=L("Tracks"),l=S(),E(s.$$.fragment)},l(t){e=w(t,"H2",{});var n=y(e);a=M(n,"Tracks"),n.forEach(_),l=B(t),P(s.$$.fragment,t)},m(t,n){b(t,e,n),$(e,a),b(t,l,n),j(s,t,n),f=!0},p(t,n){const o={};n&2&&(o.items=t[1]),s.$set(o)},i(t){f||(d(s.$$.fragment,t),f=!0)},o(t){k(s.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(s,t)}}}function ae(r){let e,a,l,s,f;return s=new U({props:{component:Se,items:r[2],limit:5,limitButton:!0}}),{c(){e=v("h2"),a=L("Artists"),l=S(),E(s.$$.fragment)},l(t){e=w(t,"H2",{});var n=y(e);a=M(n,"Artists"),n.forEach(_),l=B(t),P(s.$$.fragment,t)},m(t,n){b(t,e,n),$(e,a),b(t,l,n),j(s,t,n),f=!0},p(t,n){const o={};n&4&&(o.items=t[2]),s.$set(o)},i(t){f||(d(s.$$.fragment,t),f=!0)},o(t){k(s.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(s,t)}}}function re(r){let e,a,l,s,f;return s=new U({props:{component:Ne,items:r[3],limit:5,limitButton:!0}}),{c(){e=v("h2"),a=L("Albums"),l=S(),E(s.$$.fragment)},l(t){e=w(t,"H2",{});var n=y(e);a=M(n,"Albums"),n.forEach(_),l=B(t),P(s.$$.fragment,t)},m(t,n){b(t,e,n),$(e,a),b(t,l,n),j(s,t,n),f=!0},p(t,n){const o={};n&8&&(o.items=t[3]),s.$set(o)},i(t){f||(d(s.$$.fragment,t),f=!0)},o(t){k(s.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(s,t)}}}function ie(r){let e,a,l,s,f;return s=new U({props:{component:Ce,items:r[4],limit:5,limitButton:!0}}),{c(){e=v("h2"),a=L("Playlists"),l=S(),E(s.$$.fragment)},l(t){e=w(t,"H2",{});var n=y(e);a=M(n,"Playlists"),n.forEach(_),l=B(t),P(s.$$.fragment,t)},m(t,n){b(t,e,n),$(e,a),b(t,l,n),j(s,t,n),f=!0},p(t,n){const o={};n&16&&(o.items=t[4]),s.$set(o)},i(t){f||(d(s.$$.fragment,t),f=!0)},o(t){k(s.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(s,t)}}}function Fe(r){let e,a,l,s,f,t=r[1].length>0&&se(r),n=r[2].length>0&&ae(r),o=r[3].length>0&&re(r),i=r[4].length>0&&ie(r);return{c(){t&&t.c(),e=S(),n&&n.c(),a=S(),o&&o.c(),l=S(),i&&i.c(),s=Z()},l(u){t&&t.l(u),e=B(u),n&&n.l(u),a=B(u),o&&o.l(u),l=B(u),i&&i.l(u),s=Z()},m(u,h){t&&t.m(u,h),b(u,e,h),n&&n.m(u,h),b(u,a,h),o&&o.m(u,h),b(u,l,h),i&&i.m(u,h),b(u,s,h),f=!0},p(u,h){u[1].length>0?t?(t.p(u,h),h&2&&d(t,1)):(t=se(u),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(C(),k(t,1,1,()=>{t=null}),F()),u[2].length>0?n?(n.p(u,h),h&4&&d(n,1)):(n=ae(u),n.c(),d(n,1),n.m(a.parentNode,a)):n&&(C(),k(n,1,1,()=>{n=null}),F()),u[3].length>0?o?(o.p(u,h),h&8&&d(o,1)):(o=re(u),o.c(),d(o,1),o.m(l.parentNode,l)):o&&(C(),k(o,1,1,()=>{o=null}),F()),u[4].length>0?i?(i.p(u,h),h&16&&d(i,1)):(i=ie(u),i.c(),d(i,1),i.m(s.parentNode,s)):i&&(C(),k(i,1,1,()=>{i=null}),F())},i(u){f||(d(t),d(n),d(o),d(i),f=!0)},o(u){k(t),k(n),k(o),k(i),f=!1},d(u){t&&t.d(u),u&&_(e),n&&n.d(u),u&&_(a),o&&o.d(u),u&&_(l),i&&i.d(u),u&&_(s)}}}function Ue(r){let e,a,l;function s(t){r[6](t)}let f={slot:"header",id:"spotify-search",label:"Spotify Search",placeholder:"Search Spotify",debounce:Re};return r[0]!==void 0&&(f.value=r[0]),e=new Pe({props:f}),W.push(()=>ke(e,"value",s)),e.$on("type",r[5]),e.$on("submit",r[5]),{c(){E(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,n){j(e,t,n),l=!0},p(t,n){const o={};!a&&n&1&&(a=!0,o.value=t[0],ve(()=>a=!1)),e.$set(o)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function Oe(r){let e,a;return e=new we({props:{title:"Search",$$slots:{header:[Ue],default:[Fe]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,s){j(e,l,s),a=!0},p(l,[s]){const f={};s&1055&&(f.$$scope={dirty:s,ctx:l}),e.$set(f)},i(l){a||(d(e.$$.fragment,l),a=!0)},o(l){k(e.$$.fragment,l),a=!1},d(l){A(e,l)}}}let Re=1e3;function Ve(r,e,a){let l;de(r,ee,p=>a(9,l=p));let s="",f,t,n=[],o=[],i=[],u=[];K(()=>{l!=="empty"&&ee.valid()&&(f=Be(l))});const h=async()=>{t=await f.search({q:s,type:["track","artist","album","playlist"]}),console.debug(t),a(1,n=t.tracks.items),a(2,o=t.artists.items),a(3,i=t.albums.items),a(4,u=t.playlists.items),console.log(o[0].images)};function g(p){s=p,a(0,s)}return[s,n,o,i,u,h,g]}class xe extends G{constructor(e){super();H(this,e,Ve,Oe,q,{})}}export{xe as default};
