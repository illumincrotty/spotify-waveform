import{S as x,i as ee,s as te,e as g,t as L,j as V,c as E,a as w,g as S,l as N,d as p,b as f,R as z,f as D,F as b,T as B,h as F,a5 as le,a6 as ae,W as j,O as K,U as ke,a7 as ge,v as J,E as Ee,w as R,x as W,p as A,n as P,A as X,J as we,u as ye,N as G,k as O,a0 as M,a1 as ne,m as Q,o as Y,a4 as De,X as Te,a8 as se,a9 as re,$ as oe}from"../../chunks/vendor-afb1c40f.js";import{c as Ie}from"../../chunks/track.svelte_svelte_type_style_lang-a4055f75.js";import{P as Ae}from"../../chunks/page-f79f5392.js";import{b as ie}from"../../chunks/paths-28a87002.js";import{t as Le}from"../../chunks/storeSession-22863b82.js";/* empty css                                                               *//* empty css                                                         *//* empty css                                                              */import"../../chunks/button-ca07cb2d.js";function ue(n,t,a){const l=n.slice();return l[15]=t[a],l[17]=a,l}function ce(n){let t,a=n[15].label+"",l,e,o,s,r,i;function h(){return n[10](n[17])}return{c(){t=g("div"),l=L(a),e=V(),this.h()},l(c){t=E(c,"DIV",{value:!0,"aria-selected":!0,role:!0,class:!0,id:!0});var u=w(t);l=S(u,a),e=N(u),u.forEach(p),this.h()},h(){f(t,"value",o=n[15].value),f(t,"aria-selected","true"),f(t,"role","option"),f(t,"class","ds-option svelte-1spvkbn"),f(t,"id",s=""+(n[1]+"-option-"+n[17])),z(t,"option-current",n[7]===n[17])},m(c,u){D(c,t,u),b(t,l),b(t,e),r||(i=B(t,"click",h),r=!0)},p(c,u){n=c,u&8&&a!==(a=n[15].label+"")&&F(l,a),u&8&&o!==(o=n[15].value)&&f(t,"value",o),u&2&&s!==(s=""+(n[1]+"-option-"+n[17]))&&f(t,"id",s),u&128&&z(t,"option-current",n[7]===n[17])},d(c){c&&p(t),r=!1,i()}}}function Se(n){let t,a,l,e,o,s,r,i,h=(n[4]!==-1?n[3][n[4]].label:n[2])+"",c,u,m,_,T,I,U,C=n[3],d=[];for(let v=0;v<C.length;v+=1)d[v]=ce(ue(n,C,v));return{c(){t=g("div"),a=g("label"),l=L(n[0]),e=L(" -"),s=V(),r=g("div"),i=g("span"),c=L(h),m=V(),_=g("div");for(let v=0;v<d.length;v+=1)d[v].c();this.h()},l(v){t=E(v,"DIV",{});var y=w(t);a=E(y,"LABEL",{for:!0,id:!0,class:!0});var k=w(a);l=S(k,n[0]),e=S(k," -"),k.forEach(p),s=N(y),r=E(y,"DIV",{class:!0,id:!0});var H=w(r);i=E(H,"SPAN",{"aria-controls":!0,"aria-haspopup":!0,role:!0,tabindex:!0,class:!0,"aria-activedescendant":!0});var Z=w(i);c=S(Z,h),Z.forEach(p),m=N(H),_=E(H,"DIV",{role:!0,tabindex:!0,class:!0,id:!0,"aria-expanded":!0});var $=w(_);for(let q=0;q<d.length;q+=1)d[q].l($);$.forEach(p),H.forEach(p),y.forEach(p),this.h()},h(){f(a,"for",n[1]),f(a,"id",o=""+(n[1]+"-label")),f(a,"class","ds-label svelte-1spvkbn"),f(i,"aria-controls","listbox"),f(i,"aria-haspopup","listbox"),f(i,"role","combobox"),f(i,"tabindex","0"),f(i,"class","ds-input svelte-1spvkbn"),f(i,"aria-activedescendant",u=""+(n[1]+"-option-"+(n[7]>=0?n[7]:n[4]))),f(_,"role","listbox"),f(_,"tabindex","-1"),f(_,"class","ds-menu svelte-1spvkbn"),f(_,"id",T=""+(n[1]+"-menu")),f(_,"aria-expanded",n[6]),z(_,"open",n[6]),f(r,"class","ds-main ds-select svelte-1spvkbn"),f(r,"id",n[1]),z(r,"open",n[6])},m(v,y){D(v,t,y),b(t,a),b(a,l),b(a,e),b(t,s),b(t,r),b(r,i),b(i,c),b(r,m),b(r,_);for(let k=0;k<d.length;k+=1)d[k].m(_,null);I||(U=[B(_,"mousedown",n[11]),B(_,"mouseup",n[12]),B(r,"click",le(ae(n[13]))),B(r,"blur",le(ae(n[8])),!0),B(r,"keydown",n[9])],I=!0)},p(v,[y]){if(y&1&&F(l,v[0]),y&2&&f(a,"for",v[1]),y&2&&o!==(o=""+(v[1]+"-label"))&&f(a,"id",o),y&28&&h!==(h=(v[4]!==-1?v[3][v[4]].label:v[2])+"")&&F(c,h),y&146&&u!==(u=""+(v[1]+"-option-"+(v[7]>=0?v[7]:v[4])))&&f(i,"aria-activedescendant",u),y&154){C=v[3];let k;for(k=0;k<C.length;k+=1){const H=ue(v,C,k);d[k]?d[k].p(H,y):(d[k]=ce(H),d[k].c(),d[k].m(_,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=C.length}y&2&&T!==(T=""+(v[1]+"-menu"))&&f(_,"id",T),y&64&&f(_,"aria-expanded",v[6]),y&64&&z(_,"open",v[6]),y&2&&f(r,"id",v[1]),y&64&&z(r,"open",v[6])},i:j,o:j,d(v){v&&p(t),K(d,v),I=!1,ke(U)}}}function je(n,t,a){const l=ge();let{name:e="select"}=t,{id:o="example"}=t,{placeHolder:s=void 0}=t,{options:r}=t,i=!1,h=s?typeof s=="string"?-1:s:0,c=!1,u=-1;const m=()=>{if(i){a(5,i=!1);return}c&&!i&&a(6,c=!1)},_=d=>{if(c)switch(d.key){case" ":case"Enter":d.preventDefault(),a(4,h=u),a(6,c=!1);break;case"ArrowUp":{d.preventDefault(),u-1>=0&&a(7,u-=1);break}case"Tab":if(d.shiftKey){d.preventDefault(),u-1>=0&&a(7,u-=1);break}case"ArrowDown":{d.preventDefault(),u+1<r.length&&a(7,u+=1);break}case"Escape":d.preventDefault(),a(6,c=!1);break}else switch(d.key){case"ArrowUp":case"ArrowDown":case" ":case"Enter":d.preventDefault(),a(6,c=!0),a(7,u=h);break}},T=d=>{h!==d&&a(4,h=d)},I=()=>{a(5,i=!0)},U=()=>{a(5,i=!1)},C=()=>{a(7,u=-1),a(6,c=!c)};return n.$$set=d=>{"name"in d&&a(0,e=d.name),"id"in d&&a(1,o=d.id),"placeHolder"in d&&a(2,s=d.placeHolder),"options"in d&&a(3,r=d.options)},n.$$.update=()=>{n.$$.dirty&24&&h>=0&&h<r.length&&l("change",r[h])},[e,o,s,r,h,i,c,u,m,_,T,I,U,C]}class fe extends x{constructor(t){super();ee(this,t,je,Se,te,{name:0,id:1,placeHolder:2,options:3})}}function _e(n,t,a){const l=n.slice();return l[9]=t[a],l}function he(n,t,a){const l=n.slice();return l[13]=t[a],l}function de(n){let t,a,l,e,o,s,r,i,h;l=new fe({props:{name:"Top Tracks",id:"top-tracks",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),l.$on("change",n[4]);let c=n[2]instanceof Promise&&pe(n);r=new fe({props:{name:"Top Artists",id:"top-artists",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),r.$on("change",n[5]);let u=n[1]instanceof Promise&&ve(n);return{c(){t=g("div"),a=g("section"),J(l.$$.fragment),e=V(),c&&c.c(),o=V(),s=g("section"),J(r.$$.fragment),i=V(),u&&u.c(),this.h()},l(m){t=E(m,"DIV",{class:!0,style:!0});var _=w(t);a=E(_,"SECTION",{class:!0,style:!0});var T=w(a);R(l.$$.fragment,T),e=N(T),c&&c.l(T),T.forEach(p),o=N(_),s=E(_,"SECTION",{class:!0,style:!0});var I=w(s);R(r.$$.fragment,I),i=N(I),u&&u.l(I),I.forEach(p),_.forEach(p),this.h()},h(){f(a,"class","stack"),G(a,"align-items","flex-start"),f(s,"class","stack "),G(s,"align-items","flex-start"),f(t,"class","box flexy svelte-pd4azt"),G(t,"--gap","2ch")},m(m,_){D(m,t,_),b(t,a),W(l,a,null),b(a,e),c&&c.m(a,null),b(t,o),b(t,s),W(r,s,null),b(s,i),u&&u.m(s,null),h=!0},p(m,_){m[2]instanceof Promise?c?c.p(m,_):(c=pe(m),c.c(),c.m(a,null)):c&&(c.d(1),c=null),m[1]instanceof Promise?u?(u.p(m,_),_&2&&A(u,1)):(u=ve(m),u.c(),A(u,1),u.m(s,null)):u&&(Q(),P(u,1,1,()=>{u=null}),Y())},i(m){h||(A(l.$$.fragment,m),A(r.$$.fragment,m),A(u),h=!0)},o(m){P(l.$$.fragment,m),P(r.$$.fragment,m),P(u),h=!1},d(m){m&&p(t),X(l),c&&c.d(),X(r),u&&u.d()}}}function pe(n){let t,a,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Ne,then:Ve,catch:Pe,value:12};return M(a=n[2],l),{c(){t=O(),l.block.c()},l(e){t=O(),l.block.l(e)},m(e,o){D(e,t,o),l.block.m(e,l.anchor=o),l.mount=()=>t.parentNode,l.anchor=t},p(e,o){n=e,l.ctx=n,o&4&&a!==(a=n[2])&&M(a,l)||ne(l,n,o)},d(e){e&&p(t),l.block.d(e),l.token=null,l=null}}}function Pe(n){let t,a;return{c(){t=g("div"),a=L("Failure")},l(l){t=E(l,"DIV",{});var e=w(t);a=S(e,"Failure"),e.forEach(p)},m(l,e){D(l,t,e),b(t,a)},p:j,d(l){l&&p(t)}}}function Ve(n){let t,a=n[12].items,l=[];for(let e=0;e<a.length;e+=1)l[e]=me(he(n,a,e));return{c(){t=g("ul");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=E(e,"UL",{class:!0});var o=w(t);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(p),this.h()},h(){f(t,"class","unlist svelte-pd4azt")},m(e,o){D(e,t,o);for(let s=0;s<l.length;s+=1)l[s].m(t,null)},p(e,o){if(o&4){a=e[12].items;let s;for(s=0;s<a.length;s+=1){const r=he(e,a,s);l[s]?l[s].p(r,o):(l[s]=me(r),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=a.length}},d(e){e&&p(t),K(l,e)}}}function me(n){let t,a,l=n[13].name+"",e,o,s,r,i=n[13].artists[0].name+"",h,c,u;return{c(){t=g("li"),a=g("a"),e=L(l),s=L(`
									by
									`),r=g("a"),h=L(i),u=V(),this.h()},l(m){t=E(m,"LI",{class:!0});var _=w(t);a=E(_,"A",{rel:!0,href:!0});var T=w(a);e=S(T,l),T.forEach(p),s=S(_,`
									by
									`),r=E(_,"A",{rel:!0,href:!0});var I=w(r);h=S(I,i),I.forEach(p),u=N(_),_.forEach(p),this.h()},h(){f(a,"rel","external"),f(a,"href",o=""+(ie+"/data/track#id="+n[13].id)),f(r,"rel","external"),f(r,"href",c=n[13].artists[0].external_urls.spotify),f(t,"class","svelte-pd4azt")},m(m,_){D(m,t,_),b(t,a),b(a,e),b(t,s),b(t,r),b(r,h),b(t,u)},p(m,_){_&4&&l!==(l=m[13].name+"")&&F(e,l),_&4&&o!==(o=""+(ie+"/data/track#id="+m[13].id))&&f(a,"href",o),_&4&&i!==(i=m[13].artists[0].name+"")&&F(h,i),_&4&&c!==(c=m[13].artists[0].external_urls.spotify)&&f(r,"href",c)},d(m){m&&p(t)}}}function Ne(n){let t,a;return{c(){t=g("div"),a=L("Loading...")},l(l){t=E(l,"DIV",{});var e=w(t);a=S(e,"Loading..."),e.forEach(p)},m(l,e){D(l,t,e),b(t,a)},p:j,d(l){l&&p(t)}}}function ve(n){let t,a,l,e={ctx:n,current:null,token:null,hasCatch:!0,pending:ze,then:He,catch:Ce,value:8,blocks:[,,,]};return M(a=n[1],e),{c(){t=O(),e.block.c()},l(o){t=O(),e.block.l(o)},m(o,s){D(o,t,s),e.block.m(o,e.anchor=s),e.mount=()=>t.parentNode,e.anchor=t,l=!0},p(o,s){n=o,e.ctx=n,s&2&&a!==(a=n[1])&&M(a,e)||ne(e,n,s)},i(o){l||(A(e.block),l=!0)},o(o){for(let s=0;s<3;s+=1){const r=e.blocks[s];P(r)}l=!1},d(o){o&&p(t),e.block.d(o),e.token=null,e=null}}}function Ce(n){let t,a;return{c(){t=g("div"),a=L("Failure")},l(l){t=E(l,"DIV",{});var e=w(t);a=S(e,"Failure"),e.forEach(p)},m(l,e){D(l,t,e),b(t,a)},p:j,i:j,o:j,d(l){l&&p(t)}}}function He(n){let t,a,l=n[8].items,e=[];for(let s=0;s<l.length;s+=1)e[s]=be(_e(n,l,s));const o=s=>P(e[s],1,1,()=>{e[s]=null});return{c(){t=g("ul");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=E(s,"UL",{class:!0});var r=w(t);for(let i=0;i<e.length;i+=1)e[i].l(r);r.forEach(p),this.h()},h(){f(t,"class","unlist svelte-pd4azt")},m(s,r){D(s,t,r);for(let i=0;i<e.length;i+=1)e[i].m(t,null);a=!0},p(s,r){if(r&2){l=s[8].items;let i;for(i=0;i<l.length;i+=1){const h=_e(s,l,i);e[i]?(e[i].p(h,r),A(e[i],1)):(e[i]=be(h),e[i].c(),A(e[i],1),e[i].m(t,null))}for(Q(),i=l.length;i<e.length;i+=1)o(i);Y()}},i(s){if(!a){for(let r=0;r<l.length;r+=1)A(e[r]);a=!0}},o(s){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)P(e[r]);a=!1},d(s){s&&p(t),K(e,s)}}}function be(n){let t,a,l=n[9].name+"",e,o,s,r,i;return{c(){t=g("li"),a=g("a"),e=L(l),s=V(),this.h()},l(h){t=E(h,"LI",{class:!0});var c=w(t);a=E(c,"A",{rel:!0,href:!0});var u=w(a);e=S(u,l),u.forEach(p),s=N(c),c.forEach(p),this.h()},h(){f(a,"rel","external"),f(a,"href",o=n[9].external_urls.spotify),f(t,"class","svelte-pd4azt")},m(h,c){D(h,t,c),b(t,a),b(a,e),b(t,s),i=!0},p(h,c){n=h,(!i||c&2)&&l!==(l=n[9].name+"")&&F(e,l),(!i||c&2&&o!==(o=n[9].external_urls.spotify))&&f(a,"href",o)},i(h){i||(Te(()=>{r||(r=se(t,oe,{delay:0,duration:500,easing:re},!0)),r.run(1)}),i=!0)},o(h){r||(r=se(t,oe,{delay:0,duration:500,easing:re},!1)),r.run(0),i=!1},d(h){h&&p(t),h&&r&&r.end()}}}function ze(n){let t,a;return{c(){t=g("div"),a=L("Loading...")},l(l){t=E(l,"DIV",{});var e=w(t);a=S(e,"Loading..."),e.forEach(p)},m(l,e){D(l,t,e),b(t,a)},p:j,i:j,o:j,d(l){l&&p(t)}}}function Be(n){let t,a,l=n[3]&&de(n);return{c(){l&&l.c(),t=O()},l(e){l&&l.l(e),t=O()},m(e,o){l&&l.m(e,o),D(e,t,o),a=!0},p(e,o){e[3]?l?(l.p(e,o),o&8&&A(l,1)):(l=de(e),l.c(),A(l,1),l.m(t.parentNode,t)):l&&(Q(),P(l,1,1,()=>{l=null}),Y())},i(e){a||(A(l),a=!0)},o(e){P(l),a=!1},d(e){l&&l.d(e),e&&p(t)}}}function Fe(n){let t,a,l;return a=new Ae({props:{title:"Top Spotify Info",$$slots:{default:[Be]},$$scope:{ctx:n}}}),{c(){t=V(),J(a.$$.fragment),this.h()},l(e){Ee('[data-svelte="svelte-1998kk8"]',document.head).forEach(p),t=N(e),R(a.$$.fragment,e),this.h()},h(){document.title="Top Spotify info"},m(e,o){D(e,t,o),W(a,e,o),l=!0},p(e,[o]){const s={};o&65551&&(s.$$scope={dirty:o,ctx:e}),a.$set(s)},i(e){l||(A(a.$$.fragment,e),l=!0)},o(e){P(a.$$.fragment,e),l=!1},d(e){e&&p(t),X(a,e)}}}function Oe(n,t,a){let l;we(n,Le,u=>a(6,l=u));let e,o,s,r=!1;ye(()=>{l!=="empty"&&i(l),De().then(()=>{a(3,r=!0)})});const i=u=>{a(0,e=Ie(u)),a(2,s=e.topTracks({time_range:"long_term"})),a(1,o=e.topArtists({time_range:"long_term"}))};return[e,o,s,r,u=>{a(2,s=e.topTracks({time_range:u.detail.value}))},u=>{a(1,o=e.topArtists({time_range:u.detail.value}))}]}class Qe extends x{constructor(t){super();ee(this,t,Oe,Fe,te,{})}}export{Qe as default};
