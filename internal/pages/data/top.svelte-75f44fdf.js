import{S as $,i as x,s as ee,e as D,t as B,j as N,c as T,a as y,g as P,l as F,d as m,b as f,P as M,f as A,F as g,U as O,h as Q,ar as te,ak as le,V as w,a0 as ue,a3 as fe,al as de,v as q,E as _e,w as G,x as K,p as S,n as L,A as X,G as pe,u as he,X as R,m as W,o as Y,k as U,D as me,a5 as z,a6 as ae}from"../../chunks/vendor-d001275b.js";import{c as ke}from"../../chunks/api-1d4d6776.js";import{t as ne}from"../../chunks/storeSession-3798d66e.js";import{P as be}from"../../chunks/page-cb999a0b.js";import{B as se,T as ge,A as ve}from"../../chunks/trackBlock-116c559d.js";import"../../chunks/stateGen-632403f6.js";import"../../chunks/paths-28a87002.js";import"../../chunks/singletons-a42a5e91.js";import"../../chunks/buttonBase-cbe3e4d0.js";function oe(n,e,a){const t=n.slice();return t[15]=e[a],t[17]=a,t}function re(n){let e,a=n[15].label+"",t,l,s,o,d,_,k;function v(){return n[10](n[17])}return{c(){e=D("div"),t=B(a),l=N(),this.h()},l(c){e=T(c,"DIV",{value:!0,"aria-selected":!0,role:!0,class:!0,id:!0});var h=y(e);t=P(h,a),l=F(h),h.forEach(m),this.h()},h(){f(e,"value",s=n[15].value),f(e,"aria-selected",o=n[7]===n[17]),f(e,"role","option"),f(e,"class","ds-option svelte-yrp3l6"),f(e,"id",d=""+(n[1]+"-option-"+n[17])),M(e,"option-current",n[7]===n[17])},m(c,h){A(c,e,h),g(e,t),g(e,l),_||(k=O(e,"click",v),_=!0)},p(c,h){n=c,h&8&&a!==(a=n[15].label+"")&&Q(t,a),h&8&&s!==(s=n[15].value)&&f(e,"value",s),h&128&&o!==(o=n[7]===n[17])&&f(e,"aria-selected",o),h&2&&d!==(d=""+(n[1]+"-option-"+n[17]))&&f(e,"id",d),h&128&&M(e,"option-current",n[7]===n[17])},d(c){c&&m(e),_=!1,k()}}}function we(n){let e,a,t,l,s,o,d,_,k=(n[4]!==-1?n[3][n[4]].label:n[2])+"",v,c,h,b,H,I,C,V=n[3],r=[];for(let u=0;u<V.length;u+=1)r[u]=re(oe(n,V,u));return{c(){e=D("h2"),a=D("label"),t=B(n[0]),l=B(" -"),o=N(),d=D("div"),_=D("span"),v=B(k),h=N(),b=D("div");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=T(u,"H2",{class:!0});var i=y(e);a=T(i,"LABEL",{for:!0,id:!0,class:!0});var p=y(a);t=P(p,n[0]),l=P(p," -"),p.forEach(m),o=F(i),d=T(i,"DIV",{class:!0,id:!0});var E=y(d);_=T(E,"SPAN",{"aria-controls":!0,tabindex:!0,class:!0,"aria-expanded":!0,"aria-activedescendant":!0});var j=y(_);v=P(j,k),j.forEach(m),h=F(E),b=T(E,"DIV",{role:!0,tabindex:!0,class:!0,id:!0,"aria-expanded":!0});var Z=y(b);for(let J=0;J<r.length;J+=1)r[J].l(Z);Z.forEach(m),E.forEach(m),i.forEach(m),this.h()},h(){f(a,"for",n[1]),f(a,"id",s=""+(n[1]+"-label")),f(a,"class","ds-label svelte-yrp3l6"),f(_,"aria-controls",n[1]),f(_,"tabindex","0"),f(_,"class","ds-input svelte-yrp3l6"),f(_,"aria-expanded",n[6]),f(_,"aria-activedescendant",c=""+(n[1]+"-option-"+(n[7]>=0?n[7]:n[4]))),f(b,"role","listbox"),f(b,"tabindex","-1"),f(b,"class","ds-menu svelte-yrp3l6"),f(b,"id",H=""+(n[1]+"-menu")),f(b,"aria-expanded",n[6]),M(b,"open",n[6]),f(d,"class","ds-main ds-select svelte-yrp3l6"),f(d,"id",n[1]),M(d,"open",n[6]),f(e,"class","dropdown svelte-yrp3l6")},m(u,i){A(u,e,i),g(e,a),g(a,t),g(a,l),g(e,o),g(e,d),g(d,_),g(_,v),g(d,h),g(d,b);for(let p=0;p<r.length;p+=1)r[p].m(b,null);I||(C=[O(b,"mousedown",n[11]),O(b,"mouseup",n[12]),O(d,"click",te(le(n[13]))),O(d,"blur",te(le(n[8])),!0),O(d,"keydown",n[9])],I=!0)},p(u,[i]){if(i&1&&Q(t,u[0]),i&2&&f(a,"for",u[1]),i&2&&s!==(s=""+(u[1]+"-label"))&&f(a,"id",s),i&28&&k!==(k=(u[4]!==-1?u[3][u[4]].label:u[2])+"")&&Q(v,k),i&2&&f(_,"aria-controls",u[1]),i&64&&f(_,"aria-expanded",u[6]),i&146&&c!==(c=""+(u[1]+"-option-"+(u[7]>=0?u[7]:u[4])))&&f(_,"aria-activedescendant",c),i&154){V=u[3];let p;for(p=0;p<V.length;p+=1){const E=oe(u,V,p);r[p]?r[p].p(E,i):(r[p]=re(E),r[p].c(),r[p].m(b,null))}for(;p<r.length;p+=1)r[p].d(1);r.length=V.length}i&2&&H!==(H=""+(u[1]+"-menu"))&&f(b,"id",H),i&64&&f(b,"aria-expanded",u[6]),i&64&&M(b,"open",u[6]),i&2&&f(d,"id",u[1]),i&64&&M(d,"open",u[6])},i:w,o:w,d(u){u&&m(e),ue(r,u),I=!1,fe(C)}}}function Ee(n,e,a){const t=de();let{name:l="select"}=e,{id:s="example"}=e,{placeHolder:o=void 0}=e,{options:d}=e,_=!1,k=o?typeof o=="string"?-1:o:0,v=!1,c=-1;const h=()=>{if(_){a(5,_=!1);return}v&&!_&&a(6,v=!1)},b=r=>{if(v)switch(r.key){case" ":case"Enter":r.preventDefault(),a(4,k=c),a(6,v=!1);break;case"ArrowUp":{r.preventDefault(),c-1>=0&&a(7,c-=1);break}case"Tab":if(r.shiftKey){r.preventDefault(),c-1>=0&&a(7,c-=1);break}case"ArrowDown":{r.preventDefault(),c+1<d.length&&a(7,c+=1);break}case"Escape":r.preventDefault(),a(6,v=!1);break}else switch(r.key){case"ArrowUp":case"ArrowDown":case" ":case"Enter":r.preventDefault(),a(6,v=!0),a(7,c=k);break}},H=r=>{k!==r&&a(4,k=r)},I=()=>{a(5,_=!0)},C=()=>{a(5,_=!1)},V=()=>{a(7,c=-1),a(6,v=!v)};return n.$$set=r=>{"name"in r&&a(0,l=r.name),"id"in r&&a(1,s=r.id),"placeHolder"in r&&a(2,o=r.placeHolder),"options"in r&&a(3,d=r.options)},n.$$.update=()=>{n.$$.dirty&24&&k>=0&&k<d.length&&t("change",d[k])},[l,s,o,d,k,_,v,c,h,b,H,I,C,V]}class ie extends ${constructor(e){super();x(this,e,Ee,we,ee,{name:0,id:1,placeHolder:2,options:3})}}function ce(n){let e,a,t,l,s,o,d,_,k,v,c,h,b;t=new ie({props:{name:"Top Tracks",id:"top-tracks",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),t.$on("change",n[4]);const H=[Te,De],I=[];function C(i,p){return i[2]instanceof Promise?0:1}s=C(n),o=I[s]=H[s](n),k=new ie({props:{name:"Top Artists",id:"top-artists",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),k.$on("change",n[5]);const V=[Le,Ae],r=[];function u(i,p){return i[1]instanceof Promise?0:1}return c=u(n),h=r[c]=V[c](n),{c(){e=D("div"),a=D("section"),q(t.$$.fragment),l=N(),o.c(),d=N(),_=D("section"),q(k.$$.fragment),v=N(),h.c(),this.h()},l(i){e=T(i,"DIV",{class:!0,style:!0});var p=y(e);a=T(p,"SECTION",{class:!0,style:!0});var E=y(a);G(t.$$.fragment,E),l=F(E),o.l(E),E.forEach(m),d=F(p),_=T(p,"SECTION",{class:!0,style:!0});var j=y(_);G(k.$$.fragment,j),v=F(j),h.l(j),j.forEach(m),p.forEach(m),this.h()},h(){f(a,"class","stack"),R(a,"align-items","flex-start"),f(_,"class","stack "),R(_,"align-items","flex-start"),f(e,"class","switcher"),R(e,"--gap","2ch")},m(i,p){A(i,e,p),g(e,a),K(t,a,null),g(a,l),I[s].m(a,null),g(e,d),g(e,_),K(k,_,null),g(_,v),r[c].m(_,null),b=!0},p(i,p){let E=s;s=C(i),s===E?I[s].p(i,p):(W(),L(I[E],1,1,()=>{I[E]=null}),Y(),o=I[s],o?o.p(i,p):(o=I[s]=H[s](i),o.c()),S(o,1),o.m(a,null));let j=c;c=u(i),c===j?r[c].p(i,p):(W(),L(r[j],1,1,()=>{r[j]=null}),Y(),h=r[c],h?h.p(i,p):(h=r[c]=V[c](i),h.c()),S(h,1),h.m(_,null))},i(i){b||(S(t.$$.fragment,i),S(o),S(k.$$.fragment,i),S(h),b=!0)},o(i){L(t.$$.fragment,i),L(o),L(k.$$.fragment,i),L(h),b=!1},d(i){i&&m(e),X(t),I[s].d(),X(k),r[c].d()}}}function De(n){let e,a;return{c(){e=D("div"),a=B("Loading..."),this.h()},l(t){e=T(t,"DIV",{class:!0});var l=y(e);a=P(l,"Loading..."),l.forEach(m),this.h()},h(){f(e,"class","placeholder-fullscreen svelte-1gwh2uu")},m(t,l){A(t,e,l),g(e,a)},p:w,i:w,o:w,d(t){t&&m(e)}}}function Te(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Se,then:Ie,catch:ye,value:9,blocks:[,,,]};return z(a=n[2],l),{c(){e=U(),l.block.c()},l(s){e=U(),l.block.l(s)},m(s,o){A(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(s,o){n=s,l.ctx=n,o&4&&a!==(a=n[2])&&z(a,l)||ae(l,n,o)},i(s){t||(S(l.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const d=l.blocks[o];L(d)}t=!1},d(s){s&&m(e),l.block.d(s),l.token=null,l=null}}}function ye(n){let e,a;return{c(){e=D("div"),a=B("Failure")},l(t){e=T(t,"DIV",{});var l=y(e);a=P(l,"Failure"),l.forEach(m)},m(t,l){A(t,e,l),g(e,a)},p:w,i:w,o:w,d(t){t&&m(e)}}}function Ie(n){let e,a;return e=new se({props:{component:ge,items:n[9].items}}),{c(){q(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,l){K(e,t,l),a=!0},p(t,l){const s={};l&4&&(s.items=t[9].items),e.$set(s)},i(t){a||(S(e.$$.fragment,t),a=!0)},o(t){L(e.$$.fragment,t),a=!1},d(t){X(e,t)}}}function Se(n){let e,a;return{c(){e=D("div"),a=B("Loading..."),this.h()},l(t){e=T(t,"DIV",{class:!0});var l=y(e);a=P(l,"Loading..."),l.forEach(m),this.h()},h(){f(e,"class","placeholder-fullscreen svelte-1gwh2uu")},m(t,l){A(t,e,l),g(e,a)},p:w,i:w,o:w,d(t){t&&m(e)}}}function Ae(n){let e,a;return{c(){e=D("div"),a=B("Loading..."),this.h()},l(t){e=T(t,"DIV",{class:!0});var l=y(e);a=P(l,"Loading..."),l.forEach(m),this.h()},h(){f(e,"class","placeholder-fullscreen svelte-1gwh2uu")},m(t,l){A(t,e,l),g(e,a)},p:w,i:w,o:w,d(t){t&&m(e)}}}function Le(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Be,then:je,catch:Ve,value:8,blocks:[,,,]};return z(a=n[1],l),{c(){e=U(),l.block.c()},l(s){e=U(),l.block.l(s)},m(s,o){A(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(s,o){n=s,l.ctx=n,o&2&&a!==(a=n[1])&&z(a,l)||ae(l,n,o)},i(s){t||(S(l.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const d=l.blocks[o];L(d)}t=!1},d(s){s&&m(e),l.block.d(s),l.token=null,l=null}}}function Ve(n){let e,a;return{c(){e=D("div"),a=B("Failure")},l(t){e=T(t,"DIV",{});var l=y(e);a=P(l,"Failure"),l.forEach(m)},m(t,l){A(t,e,l),g(e,a)},p:w,i:w,o:w,d(t){t&&m(e)}}}function je(n){let e,a;return e=new se({props:{component:ve,items:n[8].items}}),{c(){q(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,l){K(e,t,l),a=!0},p(t,l){const s={};l&2&&(s.items=t[8].items),e.$set(s)},i(t){a||(S(e.$$.fragment,t),a=!0)},o(t){L(e.$$.fragment,t),a=!1},d(t){X(e,t)}}}function Be(n){let e,a;return{c(){e=D("div"),a=B("Loading..."),this.h()},l(t){e=T(t,"DIV",{class:!0});var l=y(e);a=P(l,"Loading..."),l.forEach(m),this.h()},h(){f(e,"class","placeholder-fullscreen svelte-1gwh2uu")},m(t,l){A(t,e,l),g(e,a)},p:w,i:w,o:w,d(t){t&&m(e)}}}function Pe(n){let e,a,t=n[3]&&ce(n);return{c(){t&&t.c(),e=U()},l(l){t&&t.l(l),e=U()},m(l,s){t&&t.m(l,s),A(l,e,s),a=!0},p(l,s){l[3]?t?(t.p(l,s),s&8&&S(t,1)):(t=ce(l),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(W(),L(t,1,1,()=>{t=null}),Y())},i(l){a||(S(t),a=!0)},o(l){L(t),a=!1},d(l){t&&t.d(l),l&&m(e)}}}function He(n){let e,a,t;return a=new be({props:{title:"Top Spotify Info",$$slots:{default:[Pe]},$$scope:{ctx:n}}}),{c(){e=N(),q(a.$$.fragment),this.h()},l(l){_e('[data-svelte="svelte-1998kk8"]',document.head).forEach(m),e=F(l),G(a.$$.fragment,l),this.h()},h(){document.title="Top Spotify info"},m(l,s){A(l,e,s),K(a,l,s),t=!0},p(l,[s]){const o={};s&1039&&(o.$$scope={dirty:s,ctx:l}),a.$set(o)},i(l){t||(S(a.$$.fragment,l),t=!0)},o(l){L(a.$$.fragment,l),t=!1},d(l){l&&m(e),X(a,l)}}}function Ce(n,e,a){let t;pe(n,ne,c=>a(6,t=c));let l,s,o,d=!1;he(()=>{t!=="empty"&&ne.valid()&&_(t),me().then(()=>{a(3,d=!0)})});const _=c=>{a(0,l=ke(c)),a(2,o=l.topTracks({time_range:"long_term"})),a(1,s=l.topArtists({time_range:"long_term"}))};return[l,s,o,d,c=>{a(2,o=l.topTracks({time_range:c.detail.value}))},c=>{a(1,s=l.topArtists({time_range:c.detail.value}))}]}class ze extends ${constructor(e){super();x(this,e,Ce,He,ee,{})}}export{ze as default};
