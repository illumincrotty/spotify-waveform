import{S as G,i as H,s as q,e as v,t as L,j as S,L as R,c as $,a as E,g as M,d as _,l as B,M as V,b as c,O as D,Q as J,f as b,F as w,a4 as Q,R as z,a5 as he,h as O,V as X,T as pe,a6 as be,u as K,r as ge,U as N,X as W,v as P,w as j,x as y,p as k,n as d,A,N as Y,J as ke,k as Z,m as C,o as F,a7 as de,a8 as ve}from"../../chunks/vendor-1c0fa305.js";import{P as $e}from"../../chunks/page-7e10376a.js";import{L as x,B as U,T as we,A as Se}from"../../chunks/trackBlock-78b756dc.js";import{c as Be}from"../../chunks/api-1ccf9f0f.js";import{t as ee}from"../../chunks/storeSession-da1a2461.js";import"../../chunks/buttonBase-4d8b8059.js";import"../../chunks/paths-28a87002.js";import"../../chunks/singletons-a42a5e91.js";function Ee(r){let e,s,l,a,f,t,n,o,i,u,h;return{c(){e=v("form"),s=v("label"),l=L(r[2]),f=S(),t=R("svg"),n=R("path"),o=S(),i=v("input"),this.h()},l(g){e=$(g,"FORM",{role:!0,class:!0,"aria-label":!0});var p=E(e);s=$(p,"LABEL",{id:!0,for:!0,class:!0});var T=E(s);l=M(T,r[2]),T.forEach(_),f=B(p),t=V(p,"svg",{focusable:!0,xmlns:!0,viewBox:!0,"aria-hidden":!0,class:!0});var I=E(t);n=V(I,"path",{d:!0}),E(n).forEach(_),I.forEach(_),o=B(p),i=$(p,"INPUT",{name:!0,type:!0,placeholder:!0,autocomplete:!0,spellcheck:!0,id:!0,style:!0,class:!0}),p.forEach(_),this.h()},h(){c(s,"id",a=""+(r[5]+"-label")),c(s,"for",r[5]),c(s,"class","svelte-14wm8wa"),c(n,"d","M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5	C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"),c(t,"focusable","false"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"viewBox","0 0 16 16"),c(t,"aria-hidden","true"),c(t,"class","svelte-14wm8wa"),c(i,"name","search"),c(i,"type","search"),c(i,"placeholder",r[3]),c(i,"autocomplete","off"),c(i,"spellcheck","false"),c(i,"id",r[5]),D(i,"font-size","var(--font-"+r[4]+")"),c(i,"class","svelte-14wm8wa"),c(e,"role","search"),c(e,"class","center-i svelte-14wm8wa"),c(e,"aria-label",r[2]),J(e,"content",r[0].length>0)},m(g,p){b(g,e,p),w(e,s),w(s,l),w(e,f),w(e,t),w(t,n),w(e,o),w(e,i),r[13](i),Q(i,r[0]),u||(h=[z(i,"input",r[14]),z(i,"input",r[8]),z(i,"change",r[9]),z(i,"focus",r[10]),z(i,"blur",r[11]),z(i,"keydown",r[12]),z(e,"submit",he(r[7]))],u=!0)},p(g,[p]){p&4&&O(l,g[2]),p&32&&a!==(a=""+(g[5]+"-label"))&&c(s,"id",a),p&32&&c(s,"for",g[5]),p&8&&c(i,"placeholder",g[3]),p&32&&c(i,"id",g[5]),p&16&&D(i,"font-size","var(--font-"+g[4]+")"),p&1&&Q(i,g[0]),p&4&&c(e,"aria-label",g[2]),p&1&&J(e,"content",g[0].length>0)},i:X,o:X,d(g){g&&_(e),r[13](null),u=!1,pe(h)}}}function Pe(r,e,s){let{value:l=""}=e,{debounce:a=0}=e,{label:f="search"}=e,{placeholder:t="Search... "}=e,{fontSize:n="xl"}=e,{id:o="search"+Math.random().toString(36)}=e,{ref:i=null}=e;const u=be();let h=l,g,p=!1;function T(m){p||(p=!0,g=setTimeout(()=>{m(),p=!1},a))}K(()=>()=>clearTimeout(g)),ge(()=>{l.length>0&&l!==h&&(a>0?T(()=>u("type",l)):u("type",l)),l.length===0&&h.length>0&&u("clear"),h=l});function I(m){N.call(this,r,m)}function ne(m){N.call(this,r,m)}function fe(m){N.call(this,r,m)}function ue(m){N.call(this,r,m)}function oe(m){N.call(this,r,m)}function ce(m){N.call(this,r,m)}function me(m){W[m?"unshift":"push"](()=>{i=m,s(1,i)})}function _e(){l=this.value,s(0,l)}return r.$$set=m=>{"value"in m&&s(0,l=m.value),"debounce"in m&&s(6,a=m.debounce),"label"in m&&s(2,f=m.label),"placeholder"in m&&s(3,t=m.placeholder),"fontSize"in m&&s(4,n=m.fontSize),"id"in m&&s(5,o=m.id),"ref"in m&&s(1,i=m.ref)},[l,i,f,t,n,o,a,I,ne,fe,ue,oe,ce,me,_e]}class je extends G{constructor(e){super();H(this,e,Pe,Ee,q,{value:0,debounce:6,label:2,placeholder:3,fontSize:4,id:5,ref:1})}}function ye(r){let e,s,l;return{c(){e=v("img"),this.h()},l(a){e=$(a,"IMG",{src:!0,alt:!0}),this.h()},h(){Y(e.src,s="https://generative-placeholders.glitch.me/image?width=300&height=300&style=123")||c(e,"src",s),c(e,"alt",l="Placeholder of "+r[0].name)},m(a,f){b(a,e,f)},p(a,f){f&1&&l!==(l="Placeholder of "+a[0].name)&&c(e,"alt",l)},d(a){a&&_(e)}}}function Ae(r){let e,s,l;return{c(){e=v("img"),this.h()},l(a){e=$(a,"IMG",{srcset:!0,alt:!0}),this.h()},h(){c(e,"srcset",s=r[0].images.map(te).join(", ")),c(e,"alt",l="Picture of "+r[0].name)},m(a,f){b(a,e,f)},p(a,f){f&1&&s!==(s=a[0].images.map(te).join(", "))&&c(e,"srcset",s),f&1&&l!==(l="Picture of "+a[0].name)&&c(e,"alt",l)},d(a){a&&_(e)}}}function Le(r){let e,s,l=r[0].name+"",a,f;function t(i,u){return i[0].images.length>0?Ae:ye}let n=t(r),o=n(r);return{c(){o.c(),e=S(),s=v("label"),a=L(l),this.h()},l(i){o.l(i),e=B(i),s=$(i,"LABEL",{for:!0});var u=E(s);a=M(u,l),u.forEach(_),this.h()},h(){c(s,"for",f=r[0].uri)},m(i,u){o.m(i,u),b(i,e,u),b(i,s,u),w(s,a)},p(i,u){n===(n=t(i))&&o?o.p(i,u):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e))),u&1&&l!==(l=i[0].name+"")&&O(a,l),u&1&&f!==(f=i[0].uri)&&c(s,"for",f)},d(i){o.d(i),i&&_(e),i&&_(s)}}}function Me(r){let e,s;return e=new x({props:{href:r[0].external_urls.spotify,id:r[0].uri,$$slots:{default:[Le]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){y(e,l,a),s=!0},p(l,[a]){const f={};a&1&&(f.href=l[0].external_urls.spotify),a&1&&(f.id=l[0].uri),a&3&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){d(e.$$.fragment,l),s=!1},d(l){A(e,l)}}}const te=r=>r.url;function ze(r,e,s){let{data:l}=e;return r.$$set=a=>{"data"in a&&s(0,l=a.data)},[l]}class Ne extends G{constructor(e){super();H(this,e,ze,Me,q,{data:0})}}function Te(r){let e,s,l;return{c(){e=v("img"),this.h()},l(a){e=$(a,"IMG",{src:!0,alt:!0}),this.h()},h(){Y(e.src,s="https://generative-placeholders.glitch.me/image?width=300&height=300&style=123")||c(e,"src",s),c(e,"alt",l="Placeholder of "+r[0].name)},m(a,f){b(a,e,f)},p(a,f){f&1&&l!==(l="Placeholder of "+a[0].name)&&c(e,"alt",l)},d(a){a&&_(e)}}}function Ie(r){let e,s,l;return{c(){e=v("img"),this.h()},l(a){e=$(a,"IMG",{srcset:!0,alt:!0}),this.h()},h(){c(e,"srcset",s=r[0].images.map(le).join(", ")),c(e,"alt",l="Picture of "+r[0].name)},m(a,f){b(a,e,f)},p(a,f){f&1&&s!==(s=a[0].images.map(le).join(", "))&&c(e,"srcset",s),f&1&&l!==(l="Picture of "+a[0].name)&&c(e,"alt",l)},d(a){a&&_(e)}}}function Ge(r){let e,s,l=r[0].name+"",a,f;function t(i,u){return i[0].images.length>0?Ie:Te}let n=t(r),o=n(r);return{c(){o.c(),e=S(),s=v("label"),a=L(l),this.h()},l(i){o.l(i),e=B(i),s=$(i,"LABEL",{for:!0});var u=E(s);a=M(u,l),u.forEach(_),this.h()},h(){c(s,"for",f=r[0].uri)},m(i,u){o.m(i,u),b(i,e,u),b(i,s,u),w(s,a)},p(i,u){n===(n=t(i))&&o?o.p(i,u):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e))),u&1&&l!==(l=i[0].name+"")&&O(a,l),u&1&&f!==(f=i[0].uri)&&c(s,"for",f)},d(i){o.d(i),i&&_(e),i&&_(s)}}}function He(r){let e,s;return e=new x({props:{href:r[0].external_urls.spotify,id:r[0].uri,$$slots:{default:[Ge]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){y(e,l,a),s=!0},p(l,[a]){const f={};a&1&&(f.href=l[0].external_urls.spotify),a&1&&(f.id=l[0].uri),a&3&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){d(e.$$.fragment,l),s=!1},d(l){A(e,l)}}}const le=r=>r.url;function qe(r,e,s){let{data:l}=e;return r.$$set=a=>{"data"in a&&s(0,l=a.data)},[l]}class Ce extends G{constructor(e){super();H(this,e,qe,He,q,{data:0})}}function ae(r){let e,s,l,a,f;return a=new U({props:{component:we,items:r[1],limit:5,limitButton:!0}}),{c(){e=v("h2"),s=L("Tracks"),l=S(),P(a.$$.fragment)},l(t){e=$(t,"H2",{});var n=E(e);s=M(n,"Tracks"),n.forEach(_),l=B(t),j(a.$$.fragment,t)},m(t,n){b(t,e,n),w(e,s),b(t,l,n),y(a,t,n),f=!0},p(t,n){const o={};n&2&&(o.items=t[1]),a.$set(o)},i(t){f||(k(a.$$.fragment,t),f=!0)},o(t){d(a.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(a,t)}}}function se(r){let e,s,l,a,f;return a=new U({props:{component:Se,items:r[2],limit:5,limitButton:!0}}),{c(){e=v("h2"),s=L("Artists"),l=S(),P(a.$$.fragment)},l(t){e=$(t,"H2",{});var n=E(e);s=M(n,"Artists"),n.forEach(_),l=B(t),j(a.$$.fragment,t)},m(t,n){b(t,e,n),w(e,s),b(t,l,n),y(a,t,n),f=!0},p(t,n){const o={};n&4&&(o.items=t[2]),a.$set(o)},i(t){f||(k(a.$$.fragment,t),f=!0)},o(t){d(a.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(a,t)}}}function re(r){let e,s,l,a,f;return a=new U({props:{component:Ne,items:r[3],limit:5,limitButton:!0}}),{c(){e=v("h2"),s=L("Albums"),l=S(),P(a.$$.fragment)},l(t){e=$(t,"H2",{});var n=E(e);s=M(n,"Albums"),n.forEach(_),l=B(t),j(a.$$.fragment,t)},m(t,n){b(t,e,n),w(e,s),b(t,l,n),y(a,t,n),f=!0},p(t,n){const o={};n&8&&(o.items=t[3]),a.$set(o)},i(t){f||(k(a.$$.fragment,t),f=!0)},o(t){d(a.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(a,t)}}}function ie(r){let e,s,l,a,f;return a=new U({props:{component:Ce,items:r[4],limit:5,limitButton:!0}}),{c(){e=v("h2"),s=L("Playlists"),l=S(),P(a.$$.fragment)},l(t){e=$(t,"H2",{});var n=E(e);s=M(n,"Playlists"),n.forEach(_),l=B(t),j(a.$$.fragment,t)},m(t,n){b(t,e,n),w(e,s),b(t,l,n),y(a,t,n),f=!0},p(t,n){const o={};n&16&&(o.items=t[4]),a.$set(o)},i(t){f||(k(a.$$.fragment,t),f=!0)},o(t){d(a.$$.fragment,t),f=!1},d(t){t&&_(e),t&&_(l),A(a,t)}}}function Fe(r){let e,s,l,a,f,t=r[1].length>0&&ae(r),n=r[2].length>0&&se(r),o=r[3].length>0&&re(r),i=r[4].length>0&&ie(r);return{c(){t&&t.c(),e=S(),n&&n.c(),s=S(),o&&o.c(),l=S(),i&&i.c(),a=Z()},l(u){t&&t.l(u),e=B(u),n&&n.l(u),s=B(u),o&&o.l(u),l=B(u),i&&i.l(u),a=Z()},m(u,h){t&&t.m(u,h),b(u,e,h),n&&n.m(u,h),b(u,s,h),o&&o.m(u,h),b(u,l,h),i&&i.m(u,h),b(u,a,h),f=!0},p(u,h){u[1].length>0?t?(t.p(u,h),h&2&&k(t,1)):(t=ae(u),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(C(),d(t,1,1,()=>{t=null}),F()),u[2].length>0?n?(n.p(u,h),h&4&&k(n,1)):(n=se(u),n.c(),k(n,1),n.m(s.parentNode,s)):n&&(C(),d(n,1,1,()=>{n=null}),F()),u[3].length>0?o?(o.p(u,h),h&8&&k(o,1)):(o=re(u),o.c(),k(o,1),o.m(l.parentNode,l)):o&&(C(),d(o,1,1,()=>{o=null}),F()),u[4].length>0?i?(i.p(u,h),h&16&&k(i,1)):(i=ie(u),i.c(),k(i,1),i.m(a.parentNode,a)):i&&(C(),d(i,1,1,()=>{i=null}),F())},i(u){f||(k(t),k(n),k(o),k(i),f=!0)},o(u){d(t),d(n),d(o),d(i),f=!1},d(u){t&&t.d(u),u&&_(e),n&&n.d(u),u&&_(s),o&&o.d(u),u&&_(l),i&&i.d(u),u&&_(a)}}}function Ue(r){let e,s,l;function a(t){r[6](t)}let f={slot:"header",id:"spotify-search",label:"Spotify Search",placeholder:"Search Spotify",debounce:Re};return r[0]!==void 0&&(f.value=r[0]),e=new je({props:f}),W.push(()=>de(e,"value",a)),e.$on("type",r[5]),e.$on("submit",r[5]),{c(){P(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){y(e,t,n),l=!0},p(t,n){const o={};!s&&n&1&&(s=!0,o.value=t[0],ve(()=>s=!1)),e.$set(o)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function Oe(r){let e,s;return e=new $e({props:{title:"Search",$$slots:{header:[Ue],default:[Fe]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){y(e,l,a),s=!0},p(l,[a]){const f={};a&1055&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(l){s||(k(e.$$.fragment,l),s=!0)},o(l){d(e.$$.fragment,l),s=!1},d(l){A(e,l)}}}let Re=1e3;function Ve(r,e,s){let l;ke(r,ee,p=>s(9,l=p));let a="",f,t,n=[],o=[],i=[],u=[];K(()=>{l!=="empty"&&ee.valid()&&(f=Be(l))});const h=async()=>{t=await f.search({q:a,type:["track","artist","album","playlist"]}),console.debug(t),s(1,n=t.tracks.items),s(2,o=t.artists.items),s(3,i=t.albums.items),s(4,u=t.playlists.items),console.log(o[0].images)};function g(p){a=p,s(0,a)}return[a,n,o,i,u,h,g]}class xe extends G{constructor(e){super();H(this,e,Ve,Oe,q,{})}}export{xe as default};
