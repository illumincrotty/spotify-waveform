import{S as $,i as x,s as ee,e as D,t as V,j as H,c as T,a as I,g as j,l as C,d as _,b as p,T as N,f as y,E as g,U as F,h as G,ah as te,a5 as le,O as E,R as pe,V as de,a6 as me,v as M,D as _e,w as U,x as q,p as w,n as S,A as K,F as he,u as ke,Q as J,k as O,$ as R,a0 as ae,m as W,o as X,a3 as be}from"../../chunks/vendor-2fcdb5a7.js";import{c as ge}from"../../chunks/api-1ccf9f0f.js";import{t as ne}from"../../chunks/storeSession-c7aabff2.js";import{P as ve}from"../../chunks/page-c4296348.js";import{B as oe,T as we,A as Ee}from"../../chunks/trackBlock-202cfe82.js";import"../../chunks/paths-94b66ca7.js";import"../../chunks/buttonBase-0387f9a7.js";function re(n,e,a){const t=n.slice();return t[15]=e[a],t[17]=a,t}function se(n){let e,a=n[15].label+"",t,l,o,s,c,m;function k(){return n[10](n[17])}return{c(){e=D("div"),t=V(a),l=H(),this.h()},l(i){e=T(i,"DIV",{value:!0,"aria-selected":!0,role:!0,class:!0,id:!0});var r=I(e);t=j(r,a),l=C(r),r.forEach(_),this.h()},h(){p(e,"value",o=n[15].value),p(e,"aria-selected","true"),p(e,"role","option"),p(e,"class","ds-option svelte-yrp3l6"),p(e,"id",s=""+(n[1]+"-option-"+n[17])),N(e,"option-current",n[7]===n[17])},m(i,r){y(i,e,r),g(e,t),g(e,l),c||(m=F(e,"click",k),c=!0)},p(i,r){n=i,r&8&&a!==(a=n[15].label+"")&&G(t,a),r&8&&o!==(o=n[15].value)&&p(e,"value",o),r&2&&s!==(s=""+(n[1]+"-option-"+n[17]))&&p(e,"id",s),r&128&&N(e,"option-current",n[7]===n[17])},d(i){i&&_(e),c=!1,m()}}}function De(n){let e,a,t,l,o,s,c,m,k=(n[4]!==-1?n[3][n[4]].label:n[2])+"",i,r,h,d,A,B,Q,P=n[3],u=[];for(let f=0;f<P.length;f+=1)u[f]=se(re(n,P,f));return{c(){e=D("h2"),a=D("label"),t=V(n[0]),l=V(" -"),s=H(),c=D("div"),m=D("span"),i=V(k),h=H(),d=D("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=T(f,"H2",{class:!0});var v=I(e);a=T(v,"LABEL",{for:!0,id:!0,class:!0});var b=I(a);t=j(b,n[0]),l=j(b," -"),b.forEach(_),s=C(v),c=T(v,"DIV",{class:!0,id:!0});var L=I(c);m=T(L,"SPAN",{"aria-controls":!0,"aria-haspopup":!0,role:!0,tabindex:!0,class:!0,"aria-activedescendant":!0});var Y=I(m);i=j(Y,k),Y.forEach(_),h=C(L),d=T(L,"DIV",{role:!0,tabindex:!0,class:!0,id:!0,"aria-expanded":!0});var Z=I(d);for(let z=0;z<u.length;z+=1)u[z].l(Z);Z.forEach(_),L.forEach(_),v.forEach(_),this.h()},h(){p(a,"for",n[1]),p(a,"id",o=""+(n[1]+"-label")),p(a,"class","ds-label svelte-yrp3l6"),p(m,"aria-controls","listbox"),p(m,"aria-haspopup","listbox"),p(m,"role","combobox"),p(m,"tabindex","0"),p(m,"class","ds-input svelte-yrp3l6"),p(m,"aria-activedescendant",r=""+(n[1]+"-option-"+(n[7]>=0?n[7]:n[4]))),p(d,"role","listbox"),p(d,"tabindex","-1"),p(d,"class","ds-menu svelte-yrp3l6"),p(d,"id",A=""+(n[1]+"-menu")),p(d,"aria-expanded",n[6]),N(d,"open",n[6]),p(c,"class","ds-main ds-select svelte-yrp3l6"),p(c,"id",n[1]),N(c,"open",n[6]),p(e,"class","dropdown svelte-yrp3l6")},m(f,v){y(f,e,v),g(e,a),g(a,t),g(a,l),g(e,s),g(e,c),g(c,m),g(m,i),g(c,h),g(c,d);for(let b=0;b<u.length;b+=1)u[b].m(d,null);B||(Q=[F(d,"mousedown",n[11]),F(d,"mouseup",n[12]),F(c,"click",te(le(n[13]))),F(c,"blur",te(le(n[8])),!0),F(c,"keydown",n[9])],B=!0)},p(f,[v]){if(v&1&&G(t,f[0]),v&2&&p(a,"for",f[1]),v&2&&o!==(o=""+(f[1]+"-label"))&&p(a,"id",o),v&28&&k!==(k=(f[4]!==-1?f[3][f[4]].label:f[2])+"")&&G(i,k),v&146&&r!==(r=""+(f[1]+"-option-"+(f[7]>=0?f[7]:f[4])))&&p(m,"aria-activedescendant",r),v&154){P=f[3];let b;for(b=0;b<P.length;b+=1){const L=re(f,P,b);u[b]?u[b].p(L,v):(u[b]=se(L),u[b].c(),u[b].m(d,null))}for(;b<u.length;b+=1)u[b].d(1);u.length=P.length}v&2&&A!==(A=""+(f[1]+"-menu"))&&p(d,"id",A),v&64&&p(d,"aria-expanded",f[6]),v&64&&N(d,"open",f[6]),v&2&&p(c,"id",f[1]),v&64&&N(c,"open",f[6])},i:E,o:E,d(f){f&&_(e),pe(u,f),B=!1,de(Q)}}}function Te(n,e,a){const t=me();let{name:l="select"}=e,{id:o="example"}=e,{placeHolder:s=void 0}=e,{options:c}=e,m=!1,k=s?typeof s=="string"?-1:s:0,i=!1,r=-1;const h=()=>{if(m){a(5,m=!1);return}i&&!m&&a(6,i=!1)},d=u=>{if(i)switch(u.key){case" ":case"Enter":u.preventDefault(),a(4,k=r),a(6,i=!1);break;case"ArrowUp":{u.preventDefault(),r-1>=0&&a(7,r-=1);break}case"Tab":if(u.shiftKey){u.preventDefault(),r-1>=0&&a(7,r-=1);break}case"ArrowDown":{u.preventDefault(),r+1<c.length&&a(7,r+=1);break}case"Escape":u.preventDefault(),a(6,i=!1);break}else switch(u.key){case"ArrowUp":case"ArrowDown":case" ":case"Enter":u.preventDefault(),a(6,i=!0),a(7,r=k);break}},A=u=>{k!==u&&a(4,k=u)},B=()=>{a(5,m=!0)},Q=()=>{a(5,m=!1)},P=()=>{a(7,r=-1),a(6,i=!i)};return n.$$set=u=>{"name"in u&&a(0,l=u.name),"id"in u&&a(1,o=u.id),"placeHolder"in u&&a(2,s=u.placeHolder),"options"in u&&a(3,c=u.options)},n.$$.update=()=>{n.$$.dirty&24&&k>=0&&k<c.length&&t("change",c[k])},[l,o,s,c,k,m,i,r,h,d,A,B,Q,P]}class ie extends ${constructor(e){super();x(this,e,Te,De,ee,{name:0,id:1,placeHolder:2,options:3})}}function ce(n){let e,a,t,l,o,s,c,m,k;t=new ie({props:{name:"Top Tracks",id:"top-tracks",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),t.$on("change",n[4]);let i=n[2]instanceof Promise&&ue(n);c=new ie({props:{name:"Top Artists",id:"top-artists",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),c.$on("change",n[5]);let r=n[1]instanceof Promise&&fe(n);return{c(){e=D("div"),a=D("section"),M(t.$$.fragment),l=H(),i&&i.c(),o=H(),s=D("section"),M(c.$$.fragment),m=H(),r&&r.c(),this.h()},l(h){e=T(h,"DIV",{class:!0,style:!0});var d=I(e);a=T(d,"SECTION",{class:!0,style:!0});var A=I(a);U(t.$$.fragment,A),l=C(A),i&&i.l(A),A.forEach(_),o=C(d),s=T(d,"SECTION",{class:!0,style:!0});var B=I(s);U(c.$$.fragment,B),m=C(B),r&&r.l(B),B.forEach(_),d.forEach(_),this.h()},h(){p(a,"class","stack"),J(a,"align-items","flex-start"),p(s,"class","stack "),J(s,"align-items","flex-start"),p(e,"class","box switcher"),J(e,"--gap","2ch")},m(h,d){y(h,e,d),g(e,a),q(t,a,null),g(a,l),i&&i.m(a,null),g(e,o),g(e,s),q(c,s,null),g(s,m),r&&r.m(s,null),k=!0},p(h,d){h[2]instanceof Promise?i?(i.p(h,d),d&4&&w(i,1)):(i=ue(h),i.c(),w(i,1),i.m(a,null)):i&&(W(),S(i,1,1,()=>{i=null}),X()),h[1]instanceof Promise?r?(r.p(h,d),d&2&&w(r,1)):(r=fe(h),r.c(),w(r,1),r.m(s,null)):r&&(W(),S(r,1,1,()=>{r=null}),X())},i(h){k||(w(t.$$.fragment,h),w(i),w(c.$$.fragment,h),w(r),k=!0)},o(h){S(t.$$.fragment,h),S(i),S(c.$$.fragment,h),S(r),k=!1},d(h){h&&_(e),K(t),i&&i.d(),K(c),r&&r.d()}}}function ue(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Ae,then:Se,catch:Ie,value:9,blocks:[,,,]};return R(a=n[2],l),{c(){e=O(),l.block.c()},l(o){e=O(),l.block.l(o)},m(o,s){y(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){n=o,l.ctx=n,s&4&&a!==(a=n[2])&&R(a,l)||ae(l,n,s)},i(o){t||(w(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const c=l.blocks[s];S(c)}t=!1},d(o){o&&_(e),l.block.d(o),l.token=null,l=null}}}function Ie(n){let e,a;return{c(){e=D("div"),a=V("Failure")},l(t){e=T(t,"DIV",{});var l=I(e);a=j(l,"Failure"),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function Se(n){let e,a;return e=new oe({props:{component:we,items:n[9].items}}),{c(){M(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,l){q(e,t,l),a=!0},p(t,l){const o={};l&4&&(o.items=t[9].items),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){K(e,t)}}}function Ae(n){let e,a;return{c(){e=D("div"),a=V("Loading...")},l(t){e=T(t,"DIV",{});var l=I(e);a=j(l,"Loading..."),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function fe(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Pe,then:Be,catch:ye,value:8,blocks:[,,,]};return R(a=n[1],l),{c(){e=O(),l.block.c()},l(o){e=O(),l.block.l(o)},m(o,s){y(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,s){n=o,l.ctx=n,s&2&&a!==(a=n[1])&&R(a,l)||ae(l,n,s)},i(o){t||(w(l.block),t=!0)},o(o){for(let s=0;s<3;s+=1){const c=l.blocks[s];S(c)}t=!1},d(o){o&&_(e),l.block.d(o),l.token=null,l=null}}}function ye(n){let e,a;return{c(){e=D("div"),a=V("Failure")},l(t){e=T(t,"DIV",{});var l=I(e);a=j(l,"Failure"),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function Be(n){let e,a;return e=new oe({props:{component:Ee,items:n[8].items}}),{c(){M(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,l){q(e,t,l),a=!0},p(t,l){const o={};l&2&&(o.items=t[8].items),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){K(e,t)}}}function Pe(n){let e,a;return{c(){e=D("div"),a=V("Loading...")},l(t){e=T(t,"DIV",{});var l=I(e);a=j(l,"Loading..."),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function Ve(n){let e,a,t=n[3]&&ce(n);return{c(){t&&t.c(),e=O()},l(l){t&&t.l(l),e=O()},m(l,o){t&&t.m(l,o),y(l,e,o),a=!0},p(l,o){l[3]?t?(t.p(l,o),o&8&&w(t,1)):(t=ce(l),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(W(),S(t,1,1,()=>{t=null}),X())},i(l){a||(w(t),a=!0)},o(l){S(t),a=!1},d(l){t&&t.d(l),l&&_(e)}}}function je(n){let e,a,t;return a=new ve({props:{title:"Top Spotify Info",$$slots:{default:[Ve]},$$scope:{ctx:n}}}),{c(){e=H(),M(a.$$.fragment),this.h()},l(l){_e('[data-svelte="svelte-1998kk8"]',document.head).forEach(_),e=C(l),U(a.$$.fragment,l),this.h()},h(){document.title="Top Spotify info"},m(l,o){y(l,e,o),q(a,l,o),t=!0},p(l,[o]){const s={};o&1039&&(s.$$scope={dirty:o,ctx:l}),a.$set(s)},i(l){t||(w(a.$$.fragment,l),t=!0)},o(l){S(a.$$.fragment,l),t=!1},d(l){l&&_(e),K(a,l)}}}function Le(n,e,a){let t;he(n,ne,r=>a(6,t=r));let l,o,s,c=!1;ke(()=>{t!=="empty"&&ne.valid()&&m(t),be().then(()=>{a(3,c=!0)})});const m=r=>{a(0,l=ge(r)),a(2,s=l.topTracks({time_range:"long_term"})),a(1,o=l.topArtists({time_range:"long_term"}))};return[l,o,s,c,r=>{a(2,s=l.topTracks({time_range:r.detail.value}))},r=>{a(1,o=l.topArtists({time_range:r.detail.value}))}]}class qe extends ${constructor(e){super();x(this,e,Le,je,ee,{})}}export{qe as default};
