import{S as B,i as T,s as O,v as D,w as I,x as L,R as M,p as y,n as v,A as E,u as Y,a3 as U,e as k,t as q,j as w,c as b,a as K,g as x,d as h,l as j,b as f,f as H,F as g,X as C,D as F,E as G,o as J,G as P,H as R,I as V,J as X,m as Q,Y as z}from"../../chunks/vendor-7791b14a.js";import{g as W}from"../../chunks/navigation-51f4a605.js";import{b as N}from"../../chunks/paths-28a87002.js";import{r as Z}from"../../chunks/authentication-336cfe27.js";import{H as ee}from"../../chunks/header-a4ad0e00.js";import{S as te}from"../../chunks/spotifyButton-6dbc0424.js";import{O as se}from"../../chunks/overlay-6dd64090.js";import{t as S}from"../../chunks/storeSession-26f31574.js";import"../../chunks/singletons-12a22614.js";import"../../chunks/buttonBase-968700bd.js";function ne(u){let e,n,t,l,o,a,p,d,i,$={};return d=new te({props:$}),u[2](d),{c(){e=k("div"),n=k("h2"),t=q("Unauthorized"),l=w(),o=k("p"),a=q("You need to connect spotify to access this feature"),p=w(),D(d.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0,role:!0,"aria-labelledby":!0,"aria-describedby":!0,"aria-modal":!0});var _=K(e);n=b(_,"H2",{id:!0});var c=K(n);t=x(c,"Unauthorized"),c.forEach(h),l=j(_),o=b(_,"P",{id:!0});var s=K(o);a=x(s,"You need to connect spotify to access this feature"),s.forEach(h),p=j(_),I(d.$$.fragment,_),_.forEach(h),this.h()},h(){f(n,"id","login_title"),f(o,"id","login_description"),f(e,"class","box stack svelte-rk00k9"),f(e,"role","dialog"),f(e,"aria-labelledby","login_title"),f(e,"aria-describedby","login_description"),f(e,"aria-modal","true")},m(r,_){H(r,e,_),g(e,n),g(n,t),g(e,l),g(e,o),g(o,a),g(e,p),L(d,e,null),i=!0},p(r,_){const c={};d.$set(c)},i(r){i||(y(d.$$.fragment,r),i=!0)},o(r){v(d.$$.fragment,r),i=!1},d(r){r&&h(e),u[2](null),E(d)}}}function oe(u){let e,n,t,l;return e=new se({props:{$$slots:{default:[ne]},$$scope:{ctx:u}}}),{c(){D(e.$$.fragment)},l(o){I(e.$$.fragment,o)},m(o,a){L(e,o,a),n=!0,t||(l=M(window,"keydown",u[1]),t=!0)},p(o,[a]){const p={};a&9&&(p.$$scope={dirty:a,ctx:o}),e.$set(p)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){E(e,o),t=!1,l()}}}function re(u,e,n){let t;Y(()=>{U().then(()=>{t.focus()})});const l=a=>{console.debug(a.key),a.key==="Tab"&&(t.focus(),a.preventDefault())};function o(a){C[a?"unshift":"push"](()=>{t=a,n(0,t)})}return[t,l,o]}class ae extends B{constructor(e){super();T(this,e,re,oe,O,{})}}function A(u){let e,n;return e=new ae({}),{c(){D(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function le(u){let e,n,t,l,o,a,p,d,i,$;p=new ee({props:{links:[{href:"",label:"Home"},{href:"data",label:"Data"},{href:"data/top",label:"Top Data"}]}});let r=u[0]&&u[1]==="empty"&&A();const _=u[4].default,c=F(_,u,u[3],null);return{c(){e=k("link"),n=k("link"),t=k("link"),l=k("link"),o=k("link"),a=w(),D(p.$$.fragment),d=w(),r&&r.c(),i=w(),c&&c.c(),this.h()},l(s){const m=G('[data-svelte="svelte-1ten0on"]',document.head);e=b(m,"LINK",{rel:!0,href:!0}),n=b(m,"LINK",{rel:!0,href:!0,type:!0}),t=b(m,"LINK",{rel:!0,href:!0}),l=b(m,"LINK",{rel:!0,href:!0,crossorigin:!0}),o=b(m,"LINK",{href:!0,rel:!0}),m.forEach(h),a=j(s),I(p.$$.fragment,s),d=j(s),r&&r.l(s),i=j(s),c&&c.l(s),this.h()},h(){f(e,"rel","icon"),f(e,"href",""+(N+"/favicon.png")),f(n,"rel","icon"),f(n,"href",""+(N+"/favicon.svg")),f(n,"type","image/svg+xml"),f(t,"rel","preconnect"),f(t,"href","https://fonts.googleapis.com"),f(l,"rel","preconnect"),f(l,"href","https://fonts.gstatic.com"),f(l,"crossorigin",""),f(o,"href","https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400&display=swap"),f(o,"rel","stylesheet")},m(s,m){g(document.head,e),g(document.head,n),g(document.head,t),g(document.head,l),g(document.head,o),H(s,a,m),L(p,s,m),H(s,d,m),r&&r.m(s,m),H(s,i,m),c&&c.m(s,m),$=!0},p(s,[m]){s[0]&&s[1]==="empty"?r?m&3&&y(r,1):(r=A(),r.c(),y(r,1),r.m(i.parentNode,i)):r&&(Q(),v(r,1,1,()=>{r=null}),J()),c&&c.p&&(!$||m&8)&&P(c,_,s,s[3],$?V(_,s[3],m,null):R(s[3]),null)},i(s){$||(y(p.$$.fragment,s),y(r),y(c,s),$=!0)},o(s){v(p.$$.fragment,s),v(r),v(c,s),$=!1},d(s){h(e),h(n),h(t),h(l),h(o),s&&h(a),E(p,s),s&&h(d),r&&r.d(s),s&&h(i),c&&c.d(s)}}}function ie(u,e,n){let t;X(u,S,i=>n(1,t=i));let{$$slots:l={},$$scope:o}=e;const a="Example";let p=!1;Y(()=>{t!=="empty"&&d(t),n(0,p=!0)});const d=async i=>{if(i.expires_at<Date.now()){const $=await Z(i);$?z(S,t=$,t):(z(S,t="empty",t),W(`${N}`))}};return u.$$set=i=>{"$$scope"in i&&n(3,o=i.$$scope)},[p,t,a,o,l]}class ye extends B{constructor(e){super();T(this,e,ie,le,O,{title:2})}get title(){return this.$$.ctx[2]}}export{ye as default};
