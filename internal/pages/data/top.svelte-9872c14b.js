import{S as $,i as x,s as ee,e as T,t as B,j as H,c as D,a as I,g as V,l as C,d as _,b as d,Q as N,f as y,F as g,R as F,h as z,ah as te,a5 as le,V as E,P as de,T as pe,a6 as me,v as M,E as _e,w as q,x as K,p as w,n as S,A as U,J as he,u as ke,O as G,k as O,$ as Q,a0 as ae,m as W,o as X,a3 as be}from"../../chunks/vendor-1c0fa305.js";import{c as ge}from"../../chunks/api-1ccf9f0f.js";import{t as ne}from"../../chunks/storeSession-da1a2461.js";import{P as ve}from"../../chunks/page-7e10376a.js";import{B as oe,T as we,A as Ee}from"../../chunks/trackBlock-78b756dc.js";import"../../chunks/paths-28a87002.js";import"../../chunks/singletons-a42a5e91.js";import"../../chunks/buttonBase-4d8b8059.js";function se(n,e,a){const t=n.slice();return t[15]=e[a],t[17]=a,t}function re(n){let e,a=n[15].label+"",t,l,o,r,c,m;function k(){return n[10](n[17])}return{c(){e=T("div"),t=B(a),l=H(),this.h()},l(i){e=D(i,"DIV",{value:!0,"aria-selected":!0,role:!0,class:!0,id:!0});var s=I(e);t=V(s,a),l=C(s),s.forEach(_),this.h()},h(){d(e,"value",o=n[15].value),d(e,"aria-selected","true"),d(e,"role","option"),d(e,"class","ds-option svelte-yrp3l6"),d(e,"id",r=""+(n[1]+"-option-"+n[17])),N(e,"option-current",n[7]===n[17])},m(i,s){y(i,e,s),g(e,t),g(e,l),c||(m=F(e,"click",k),c=!0)},p(i,s){n=i,s&8&&a!==(a=n[15].label+"")&&z(t,a),s&8&&o!==(o=n[15].value)&&d(e,"value",o),s&2&&r!==(r=""+(n[1]+"-option-"+n[17]))&&d(e,"id",r),s&128&&N(e,"option-current",n[7]===n[17])},d(i){i&&_(e),c=!1,m()}}}function Te(n){let e,a,t,l,o,r,c,m,k=(n[4]!==-1?n[3][n[4]].label:n[2])+"",i,s,h,p,A,P,J,j=n[3],u=[];for(let f=0;f<j.length;f+=1)u[f]=re(se(n,j,f));return{c(){e=T("h2"),a=T("label"),t=B(n[0]),l=B(" -"),r=H(),c=T("div"),m=T("span"),i=B(k),h=H(),p=T("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=D(f,"H2",{class:!0});var v=I(e);a=D(v,"LABEL",{for:!0,id:!0,class:!0});var b=I(a);t=V(b,n[0]),l=V(b," -"),b.forEach(_),r=C(v),c=D(v,"DIV",{class:!0,id:!0});var L=I(c);m=D(L,"SPAN",{"aria-controls":!0,"aria-haspopup":!0,role:!0,tabindex:!0,class:!0,"aria-activedescendant":!0});var Y=I(m);i=V(Y,k),Y.forEach(_),h=C(L),p=D(L,"DIV",{role:!0,tabindex:!0,class:!0,id:!0,"aria-expanded":!0});var Z=I(p);for(let R=0;R<u.length;R+=1)u[R].l(Z);Z.forEach(_),L.forEach(_),v.forEach(_),this.h()},h(){d(a,"for",n[1]),d(a,"id",o=""+(n[1]+"-label")),d(a,"class","ds-label svelte-yrp3l6"),d(m,"aria-controls","listbox"),d(m,"aria-haspopup","listbox"),d(m,"role","combobox"),d(m,"tabindex","0"),d(m,"class","ds-input svelte-yrp3l6"),d(m,"aria-activedescendant",s=""+(n[1]+"-option-"+(n[7]>=0?n[7]:n[4]))),d(p,"role","listbox"),d(p,"tabindex","-1"),d(p,"class","ds-menu svelte-yrp3l6"),d(p,"id",A=""+(n[1]+"-menu")),d(p,"aria-expanded",n[6]),N(p,"open",n[6]),d(c,"class","ds-main ds-select svelte-yrp3l6"),d(c,"id",n[1]),N(c,"open",n[6]),d(e,"class","dropdown svelte-yrp3l6")},m(f,v){y(f,e,v),g(e,a),g(a,t),g(a,l),g(e,r),g(e,c),g(c,m),g(m,i),g(c,h),g(c,p);for(let b=0;b<u.length;b+=1)u[b].m(p,null);P||(J=[F(p,"mousedown",n[11]),F(p,"mouseup",n[12]),F(c,"click",te(le(n[13]))),F(c,"blur",te(le(n[8])),!0),F(c,"keydown",n[9])],P=!0)},p(f,[v]){if(v&1&&z(t,f[0]),v&2&&d(a,"for",f[1]),v&2&&o!==(o=""+(f[1]+"-label"))&&d(a,"id",o),v&28&&k!==(k=(f[4]!==-1?f[3][f[4]].label:f[2])+"")&&z(i,k),v&146&&s!==(s=""+(f[1]+"-option-"+(f[7]>=0?f[7]:f[4])))&&d(m,"aria-activedescendant",s),v&154){j=f[3];let b;for(b=0;b<j.length;b+=1){const L=se(f,j,b);u[b]?u[b].p(L,v):(u[b]=re(L),u[b].c(),u[b].m(p,null))}for(;b<u.length;b+=1)u[b].d(1);u.length=j.length}v&2&&A!==(A=""+(f[1]+"-menu"))&&d(p,"id",A),v&64&&d(p,"aria-expanded",f[6]),v&64&&N(p,"open",f[6]),v&2&&d(c,"id",f[1]),v&64&&N(c,"open",f[6])},i:E,o:E,d(f){f&&_(e),de(u,f),P=!1,pe(J)}}}function De(n,e,a){const t=me();let{name:l="select"}=e,{id:o="example"}=e,{placeHolder:r=void 0}=e,{options:c}=e,m=!1,k=r?typeof r=="string"?-1:r:0,i=!1,s=-1;const h=()=>{if(m){a(5,m=!1);return}i&&!m&&a(6,i=!1)},p=u=>{if(i)switch(u.key){case" ":case"Enter":u.preventDefault(),a(4,k=s),a(6,i=!1);break;case"ArrowUp":{u.preventDefault(),s-1>=0&&a(7,s-=1);break}case"Tab":if(u.shiftKey){u.preventDefault(),s-1>=0&&a(7,s-=1);break}case"ArrowDown":{u.preventDefault(),s+1<c.length&&a(7,s+=1);break}case"Escape":u.preventDefault(),a(6,i=!1);break}else switch(u.key){case"ArrowUp":case"ArrowDown":case" ":case"Enter":u.preventDefault(),a(6,i=!0),a(7,s=k);break}},A=u=>{k!==u&&a(4,k=u)},P=()=>{a(5,m=!0)},J=()=>{a(5,m=!1)},j=()=>{a(7,s=-1),a(6,i=!i)};return n.$$set=u=>{"name"in u&&a(0,l=u.name),"id"in u&&a(1,o=u.id),"placeHolder"in u&&a(2,r=u.placeHolder),"options"in u&&a(3,c=u.options)},n.$$.update=()=>{n.$$.dirty&24&&k>=0&&k<c.length&&t("change",c[k])},[l,o,r,c,k,m,i,s,h,p,A,P,J,j]}class ie extends ${constructor(e){super();x(this,e,De,Te,ee,{name:0,id:1,placeHolder:2,options:3})}}function ce(n){let e,a,t,l,o,r,c,m,k;t=new ie({props:{name:"Top Tracks",id:"top-tracks",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),t.$on("change",n[4]);let i=n[2]instanceof Promise&&ue(n);c=new ie({props:{name:"Top Artists",id:"top-artists",options:[{label:"Short Term",value:"short_term"},{label:"Medium Term",value:"medium_term"},{label:"Long Term",value:"long_term"}],placeHolder:2}}),c.$on("change",n[5]);let s=n[1]instanceof Promise&&fe(n);return{c(){e=T("div"),a=T("section"),M(t.$$.fragment),l=H(),i&&i.c(),o=H(),r=T("section"),M(c.$$.fragment),m=H(),s&&s.c(),this.h()},l(h){e=D(h,"DIV",{class:!0,style:!0});var p=I(e);a=D(p,"SECTION",{class:!0,style:!0});var A=I(a);q(t.$$.fragment,A),l=C(A),i&&i.l(A),A.forEach(_),o=C(p),r=D(p,"SECTION",{class:!0,style:!0});var P=I(r);q(c.$$.fragment,P),m=C(P),s&&s.l(P),P.forEach(_),p.forEach(_),this.h()},h(){d(a,"class","stack"),G(a,"align-items","flex-start"),d(r,"class","stack "),G(r,"align-items","flex-start"),d(e,"class","box switcher"),G(e,"--gap","2ch")},m(h,p){y(h,e,p),g(e,a),K(t,a,null),g(a,l),i&&i.m(a,null),g(e,o),g(e,r),K(c,r,null),g(r,m),s&&s.m(r,null),k=!0},p(h,p){h[2]instanceof Promise?i?(i.p(h,p),p&4&&w(i,1)):(i=ue(h),i.c(),w(i,1),i.m(a,null)):i&&(W(),S(i,1,1,()=>{i=null}),X()),h[1]instanceof Promise?s?(s.p(h,p),p&2&&w(s,1)):(s=fe(h),s.c(),w(s,1),s.m(r,null)):s&&(W(),S(s,1,1,()=>{s=null}),X())},i(h){k||(w(t.$$.fragment,h),w(i),w(c.$$.fragment,h),w(s),k=!0)},o(h){S(t.$$.fragment,h),S(i),S(c.$$.fragment,h),S(s),k=!1},d(h){h&&_(e),U(t),i&&i.d(),U(c),s&&s.d()}}}function ue(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Ae,then:Se,catch:Ie,value:9,blocks:[,,,]};return Q(a=n[2],l),{c(){e=O(),l.block.c()},l(o){e=O(),l.block.l(o)},m(o,r){y(o,e,r),l.block.m(o,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,r){n=o,l.ctx=n,r&4&&a!==(a=n[2])&&Q(a,l)||ae(l,n,r)},i(o){t||(w(l.block),t=!0)},o(o){for(let r=0;r<3;r+=1){const c=l.blocks[r];S(c)}t=!1},d(o){o&&_(e),l.block.d(o),l.token=null,l=null}}}function Ie(n){let e,a;return{c(){e=T("div"),a=B("Failure")},l(t){e=D(t,"DIV",{});var l=I(e);a=V(l,"Failure"),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function Se(n){let e,a;return e=new oe({props:{component:we,items:n[9].items}}),{c(){M(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),a=!0},p(t,l){const o={};l&4&&(o.items=t[9].items),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){U(e,t)}}}function Ae(n){let e,a;return{c(){e=T("div"),a=B("Loading...")},l(t){e=D(t,"DIV",{});var l=I(e);a=V(l,"Loading..."),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function fe(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:je,then:Pe,catch:ye,value:8,blocks:[,,,]};return Q(a=n[1],l),{c(){e=O(),l.block.c()},l(o){e=O(),l.block.l(o)},m(o,r){y(o,e,r),l.block.m(o,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,r){n=o,l.ctx=n,r&2&&a!==(a=n[1])&&Q(a,l)||ae(l,n,r)},i(o){t||(w(l.block),t=!0)},o(o){for(let r=0;r<3;r+=1){const c=l.blocks[r];S(c)}t=!1},d(o){o&&_(e),l.block.d(o),l.token=null,l=null}}}function ye(n){let e,a;return{c(){e=T("div"),a=B("Failure")},l(t){e=D(t,"DIV",{});var l=I(e);a=V(l,"Failure"),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function Pe(n){let e,a;return e=new oe({props:{component:Ee,items:n[8].items}}),{c(){M(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){K(e,t,l),a=!0},p(t,l){const o={};l&2&&(o.items=t[8].items),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){U(e,t)}}}function je(n){let e,a;return{c(){e=T("div"),a=B("Loading...")},l(t){e=D(t,"DIV",{});var l=I(e);a=V(l,"Loading..."),l.forEach(_)},m(t,l){y(t,e,l),g(e,a)},p:E,i:E,o:E,d(t){t&&_(e)}}}function Be(n){let e,a,t=n[3]&&ce(n);return{c(){t&&t.c(),e=O()},l(l){t&&t.l(l),e=O()},m(l,o){t&&t.m(l,o),y(l,e,o),a=!0},p(l,o){l[3]?t?(t.p(l,o),o&8&&w(t,1)):(t=ce(l),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(W(),S(t,1,1,()=>{t=null}),X())},i(l){a||(w(t),a=!0)},o(l){S(t),a=!1},d(l){t&&t.d(l),l&&_(e)}}}function Ve(n){let e,a,t;return a=new ve({props:{title:"Top Spotify Info",$$slots:{default:[Be]},$$scope:{ctx:n}}}),{c(){e=H(),M(a.$$.fragment),this.h()},l(l){_e('[data-svelte="svelte-1998kk8"]',document.head).forEach(_),e=C(l),q(a.$$.fragment,l),this.h()},h(){document.title="Top Spotify info"},m(l,o){y(l,e,o),K(a,l,o),t=!0},p(l,[o]){const r={};o&1039&&(r.$$scope={dirty:o,ctx:l}),a.$set(r)},i(l){t||(w(a.$$.fragment,l),t=!0)},o(l){S(a.$$.fragment,l),t=!1},d(l){l&&_(e),U(a,l)}}}function Le(n,e,a){let t;he(n,ne,s=>a(6,t=s));let l,o,r,c=!1;ke(()=>{t!=="empty"&&ne.valid()&&m(t),be().then(()=>{a(3,c=!0)})});const m=s=>{a(0,l=ge(s)),a(2,r=l.topTracks({time_range:"long_term"})),a(1,o=l.topArtists({time_range:"long_term"}))};return[l,o,r,c,s=>{a(2,r=l.topTracks({time_range:s.detail.value}))},s=>{a(1,o=l.topArtists({time_range:s.detail.value}))}]}class Ue extends ${constructor(e){super();x(this,e,Le,Ve,ee,{})}}export{Ue as default};
